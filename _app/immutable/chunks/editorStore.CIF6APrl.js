import{S as Nt,i as Ut,t as Tt,g as Ue,c as Oe,a as Yt,b as be,d as we,m as Ee,e as De}from"./index.B7RLeFoU.js";import{e as $t,T as Le,I as Ae}from"./TextBox.z-99Vxiz.js";import{w as yt}from"./index.COkpg3mn.js";import{C as xe,I as Pe}from"./CardBox.DXIIINQB.js";import{af as Ce,ae as Se,s as Ot,a as H,f as M,g as F,d as L,k as U,i as rt,a1 as Re,b as J,h as Q,m as T,n as it,G as ze,e as pe,c as qt,j as X,C as ct,o as Ge,K as Dt,ag as It,D as Ie,t as Be,l as je,p as We}from"./scheduler.BMT8A4Tp.js";const Te="drawerStore";function Fe(){const a=Ce(Te);if(!a)throw new Error("drawerStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return a}function Xi(){const a=Ye();return Se(Te,a)}function Ye(){const{subscribe:a,set:t,update:e}=yt({});return{subscribe:a,set:t,update:e,open:r=>e(()=>({open:!0,...r})),close:()=>e(r=>(r.open=!1,r))}}const ke="modalStore";function $e(){const a=Ce(ke);if(!a)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return a}function Vi(){const a=qe();return Se(ke,a)}function qe(){const{subscribe:a,set:t,update:e}=yt([]);return{subscribe:a,set:t,update:e,trigger:r=>e(n=>(n.push(r),n)),close:()=>e(r=>(r.length>0&&r.shift(),r)),clear:()=>t([])}}var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ge(a,t,e){const r=a.slice();return r[1]=t[e],r}function ve(a){let t,e,r,n,o,u;return n=new xe({props:{icon:a[1].icon,body:a[1].name,style:"variant-filled-surface text-center"}}),{c(){t=H("div"),e=H("div"),r=H("div"),be(n.$$.fragment),o=J(),this.h()},l(c){t=M(c,"DIV",{class:!0});var m=F(t);e=M(m,"DIV",{class:!0});var C=F(e);r=M(C,"DIV",{"data-comp":!0});var S=F(r);we(n.$$.fragment,S),S.forEach(L),C.forEach(L),o=Q(m),m.forEach(L),this.h()},h(){U(r,"data-comp",a[1].name),U(e,"class","grid-stack-item-content"),U(t,"class","grid-stack-item w-32 cursor-grab select-none")},m(c,m){rt(c,t,m),T(t,e),T(e,r),Ee(n,r,null),T(t,o),u=!0},p:it,i(c){u||(Tt(n.$$.fragment,c),u=!0)},o(c){Yt(n.$$.fragment,c),u=!1},d(c){c&&L(t),De(n)}}}function Xe(a){let t,e,r=$t(a[0]),n=[];for(let u=0;u<r.length;u+=1)n[u]=ve(ge(a,r,u));const o=u=>Yt(n[u],1,1,()=>{n[u]=null});return{c(){t=H("div");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){t=M(u,"DIV",{id:!0,class:!0});var c=F(t);for(let m=0;m<n.length;m+=1)n[m].l(c);c.forEach(L),this.h()},h(){U(t,"id","toolbox"),U(t,"class","sidebar flex flex-wrap gap-4 overflow-auto")},m(u,c){rt(u,t,c);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e=!0},p(u,[c]){if(c&1){r=$t(u[0]);let m;for(m=0;m<r.length;m+=1){const C=ge(u,r,m);n[m]?(n[m].p(C,c),Tt(n[m],1)):(n[m]=ve(C),n[m].c(),Tt(n[m],1),n[m].m(t,null))}for(Ue(),m=r.length;m<n.length;m+=1)o(m);Oe()}},i(u){if(!e){for(let c=0;c<r.length;c+=1)Tt(n[c]);e=!0}},o(u){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)Yt(n[c]);e=!1},d(u){u&&L(t),Re(n,u)}}}function Ve(a){return[[{icon:"mdi:format-text",name:"TextBox"},{icon:"mdi:image",name:"ImageBox"},{icon:"mdi:card-text",name:"CardBox"},{icon:"mdi:code",name:"CodeBlock"},{icon:"mdi:people",name:"Avatar"}]]}class Ke extends Nt{constructor(t){super(),Ut(this,t,Ve,Xe,Ot,{})}}function Je(a){let t,e,r,n;return r=new Pe({props:{class:"h-12 w-12 text-slate-300",icon:"mdi:trash-outline"}}),{c(){t=H("div"),e=H("div"),be(r.$$.fragment),this.h()},l(o){t=M(o,"DIV",{class:!0});var u=F(t);e=M(u,"DIV",{id:!0,class:!0});var c=F(e);we(r.$$.fragment,c),c.forEach(L),u.forEach(L),this.h()},h(){U(e,"id","trash"),U(e,"class","h-32 w-full bg-slate-400 border-2 border-slate-600 flex items-center justify-center absolute inset-0 z-10 opacity-75"),U(t,"class","relative h-32 w-full")},m(o,u){rt(o,t,u),T(t,e),Ee(r,e,null),a[1](t),n=!0},p:it,i(o){n||(Tt(r.$$.fragment,o),n=!0)},o(o){Yt(r.$$.fragment,o),n=!1},d(o){o&&L(t),De(r),a[1](null)}}}function Qe(a,t,e){let r;function n(o){ze[o?"unshift":"push"](()=>{r=o,e(0,r)})}return[r,n]}class Ze extends Nt{constructor(t){super(),Ut(this,t,Qe,Je,Ot,{})}}function ti(a){let t,e="Edit",r,n;return{c(){t=H("button"),t.textContent=e,this.h()},l(o){t=M(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1pufvuy"&&(t.textContent=e),this.h()},h(){U(t,"class","btn variant-filled-primary")},m(o,u){rt(o,t,u),r||(n=ct(t,"click",a[4]),r=!0)},p:it,d(o){o&&L(t),r=!1,n()}}}function ei(a){let t,e="Export",r,n;return{c(){t=H("button"),t.textContent=e,this.h()},l(o){t=M(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1kzjjzk"&&(t.textContent=e),this.h()},h(){U(t,"class","btn variant-filled-tertiary")},m(o,u){rt(o,t,u),r||(n=ct(t,"click",a[1]),r=!0)},p:it,d(o){o&&L(t),r=!1,n()}}}function ii(a){let t,e="Render",r,n;return{c(){t=H("button"),t.textContent=e,this.h()},l(o){t=M(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1ygvqea"&&(t.textContent=e),this.h()},h(){U(t,"class","btn variant-filled-secondary")},m(o,u){rt(o,t,u),r||(n=ct(t,"click",a[3]),r=!0)},p:it,d(o){o&&L(t),r=!1,n()}}}function ri(a){let t;function e(o,u){if(o[0]==="render")return ii;if(o[0]==="export")return ei;if(o[0]==="edit")return ti}let r=e(a),n=r&&r(a);return{c(){n&&n.c(),t=pe()},l(o){n&&n.l(o),t=pe()},m(o,u){n&&n.m(o,u),rt(o,t,u)},p(o,[u]){r===(r=e(o))&&n?n.p(o,u):(n&&n.d(1),n=r&&r(o),n&&(n.c(),n.m(t.parentNode,t)))},i:it,o:it,d(o){o&&L(t),n&&n.d(o)}}}function ni(a,t,e){let r;qt(a,Me,S=>e(5,r=S));let{type:n}=t;const o=$e(),u=()=>{o.trigger({type:"component",component:"ExportBox",meta:{language:"json",code:JSON.stringify(r,null,2)}})},c=Fe(),m=()=>{c.close(),Ne.update(S=>!S)},C=()=>c.open({id:"editor",position:"bottom",height:"h-5/6"});return a.$$set=S=>{"type"in S&&e(0,n=S.type)},[n,u,c,m,C]}class si extends Nt{constructor(t){super(),Ut(this,t,ni,ri,Ot,{type:0})}}var Wt={},Ht={},Y={},kt=A&&A.__assign||function(){return kt=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},kt.apply(this,arguments)},oi=A&&A.__spreadArray||function(a,t,e){if(e||arguments.length===2)for(var r=0,n=t.length,o;r<n;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return a.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(Y,"__esModule",{value:!0});Y.Utils=Y.obsoleteAttr=Y.obsoleteOptsDel=Y.obsoleteOpts=Y.obsolete=void 0;function ai(a,t,e,r,n){var o=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return console.warn("gridstack.js: Function `"+e+"` is deprecated in "+n+" and has been replaced with `"+r+"`. It will be **removed** in a future release"),t.apply(a,u)};return o.prototype=t.prototype,o}Y.obsolete=ai;function li(a,t,e,r){a[t]!==void 0&&(a[e]=a[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+r+" and has been replaced with `"+e+"`. It will be **removed** in a future release"))}Y.obsoleteOpts=li;function ui(a,t,e,r){a[t]!==void 0&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+e+r)}Y.obsoleteOptsDel=ui;function hi(a,t,e,r){var n=a.getAttribute(t);n!==null&&(a.setAttribute(e,n),console.warn("gridstack.js: attribute `"+t+"`="+n+" is deprecated on this object in "+r+" and has been replaced with `"+e+"`. It will be **removed** in a future release"))}Y.obsoleteAttr=hi;var di=function(){function a(){}return a.getElements=function(t,e){if(e===void 0&&(e=document),typeof t=="string"){var r="getElementById"in e?e:void 0;if(r&&!isNaN(+t[0])){var n=r.getElementById(t);return n?[n]:[]}var o=e.querySelectorAll(t);return!o.length&&t[0]!=="."&&t[0]!=="#"&&(o=e.querySelectorAll("."+t),o.length||(o=e.querySelectorAll("#"+t))),Array.from(o)}return[t]},a.getElement=function(t,e){if(e===void 0&&(e=document),typeof t=="string"){var r="getElementById"in e?e:void 0;if(!t.length)return null;if(r&&t[0]==="#")return r.getElementById(t.substring(1));if(t[0]==="#"||t[0]==="."||t[0]==="[")return e.querySelector(t);if(r&&!isNaN(+t[0]))return r.getElementById(t);var n=e.querySelector(t);return r&&!n&&(n=r.getElementById(t)),n||(n=e.querySelector("."+t)),n}return t},a.shouldSizeToContent=function(t,e){return e===void 0&&(e=!1),(t==null?void 0:t.grid)&&(e?t.sizeToContent===!0||t.grid.opts.sizeToContent===!0&&t.sizeToContent===void 0:!!t.sizeToContent||t.grid.opts.sizeToContent&&t.sizeToContent!==!1)},a.isIntercepted=function(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)},a.isTouching=function(t,e){return a.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})},a.areaIntercept=function(t,e){var r=t.x>e.x?t.x:e.x,n=t.x+t.w<e.x+e.w?t.x+t.w:e.x+e.w;if(n<=r)return 0;var o=t.y>e.y?t.y:e.y,u=t.y+t.h<e.y+e.h?t.y+t.h:e.y+e.h;return u<=o?0:(n-r)*(u-o)},a.area=function(t){return t.w*t.h},a.sort=function(t,e){e===void 0&&(e=1);var r=1e4;return t.sort(function(n,o){var u,c,m,C,S=e*(((u=n.y)!==null&&u!==void 0?u:r)-((c=o.y)!==null&&c!==void 0?c:r));return S===0?e*(((m=n.x)!==null&&m!==void 0?m:r)-((C=o.x)!==null&&C!==void 0?C:r)):S})},a.find=function(t,e){return e?t.find(function(r){return r.id===e}):void 0},a.createStylesheet=function(t,e,r){var n=document.createElement("style"),o=r==null?void 0:r.nonce;return o&&(n.nonce=o),n.setAttribute("type","text/css"),n.setAttribute("gs-style-id",t),n.styleSheet?n.styleSheet.cssText="":n.appendChild(document.createTextNode("")),e?e.insertBefore(n,e.firstChild):(e=document.getElementsByTagName("head")[0],e.appendChild(n)),n.sheet},a.removeStylesheet=function(t,e){var r=e||document,n=r.querySelector("STYLE[gs-style-id="+t+"]");n&&n.parentNode&&n.remove()},a.addCSSRule=function(t,e,r){typeof t.addRule=="function"?t.addRule(e,r):typeof t.insertRule=="function"&&t.insertRule("".concat(e,"{").concat(r,"}"))},a.toBool=function(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):!!t},a.toNumber=function(t){return t===null||t.length===0?void 0:Number(t)},a.parseHeight=function(t){var e,r="px";if(typeof t=="string")if(t==="auto"||t==="")e=0;else{var n=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!n)throw new Error("Invalid height val = ".concat(t));r=n[2]||"px",e=parseFloat(n[1])}else e=t;return{h:e,unit:r}},a.defaults=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.forEach(function(o){for(var u in o){if(!o.hasOwnProperty(u))return;t[u]===null||t[u]===void 0?t[u]=o[u]:typeof o[u]=="object"&&typeof t[u]=="object"&&e.defaults(t[u],o[u])}}),t},a.same=function(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0},a.copyPos=function(t,e,r){return r===void 0&&(r=!1),e.x!==void 0&&(t.x=e.x),e.y!==void 0&&(t.y=e.y),e.w!==void 0&&(t.w=e.w),e.h!==void 0&&(t.h=e.h),r&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t},a.samePos=function(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&(t.w||1)===(e.w||1)&&(t.h||1)===(e.h||1)},a.sanitizeMinMax=function(t){t.minW||delete t.minW,t.minH||delete t.minH,t.maxW||delete t.maxW,t.maxH||delete t.maxH},a.removeInternalAndSame=function(t,e){if(!(typeof t!="object"||typeof e!="object"))for(var r in t){var n=t[r],o=e[r];r[0]==="_"||n===o?delete t[r]:n&&typeof n=="object"&&o!==void 0&&(a.removeInternalAndSame(n,o),Object.keys(n).length||delete t[r])}},a.removeInternalForSave=function(t,e){e===void 0&&(e=!0);for(var r in t)(r[0]==="_"||t[r]===null||t[r]===void 0)&&delete t[r];delete t.grid,e&&delete t.el,t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,t.locked||delete t.locked,(t.w===1||t.w===t.minW)&&delete t.w,(t.h===1||t.h===t.minH)&&delete t.h},a.throttle=function(t,e){var r=!1;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];r||(r=!0,setTimeout(function(){t.apply(void 0,n),r=!1},e))}},a.removePositioningStyles=function(t){var e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")},a.getScrollElement=function(t){if(!t)return document.scrollingElement||document.documentElement;var e=getComputedStyle(t),r=/(auto|scroll)/;return r.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)},a.updateScrollPosition=function(t,e,r){var n=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;if(n.top<0||n.bottom>o){var u=n.bottom-o,c=n.top,m=this.getScrollElement(t);if(m!==null){var C=m.scrollTop;n.top<0&&r<0?t.offsetHeight>o?m.scrollTop+=r:m.scrollTop+=Math.abs(c)>Math.abs(r)?r:c:r>0&&(t.offsetHeight>o?m.scrollTop+=r:m.scrollTop+=u>r?r:u),e.top+=m.scrollTop-C}}},a.updateScrollResize=function(t,e,r){var n=this.getScrollElement(e),o=n.clientHeight,u=n===this.getScrollElement()?0:n.getBoundingClientRect().top,c=t.clientY-u,m=c<r,C=c>o-r;m?n.scrollBy({behavior:"smooth",top:c-r}):C&&n.scrollBy({behavior:"smooth",top:r-(o-c)})},a.clone=function(t){return t==null||typeof t!="object"?t:t instanceof Array?oi([],t,!0):kt({},t)},a.cloneDeep=function(t){var e=["parentGrid","el","grid","subGrid","engine"],r=a.clone(t),n=function(u){r.hasOwnProperty(u)&&typeof r[u]=="object"&&u.substring(0,2)!=="__"&&!e.find(function(c){return c===u})&&(r[u]=a.cloneDeep(t[u]))};for(var o in r)n(o);return r},a.cloneNode=function(t){var e=t.cloneNode(!0);return e.removeAttribute("id"),e},a.appendTo=function(t,e){var r;typeof e=="string"?r=a.getElement(e):r=e,r&&r.appendChild(t)},a.addElStyles=function(t,e){if(e instanceof Object){var r=function(o){e.hasOwnProperty(o)&&(Array.isArray(e[o])?e[o].forEach(function(u){t.style[o]=u}):t.style[o]=e[o])};for(var n in e)r(n)}},a.initEvent=function(t,e){var r={type:e.type},n={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target?e.target:t.target};return t.dataTransfer&&(r.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach(function(o){return r[o]=t[o]}),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(function(o){return r[o]=t[o]}),kt(kt({},r),n)},a.simulateMouseEvent=function(t,e,r){var n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,t.target),(r||t.target).dispatchEvent(n)},a.getValuesFromTransformedElement=function(t){var e=document.createElement("div");a.addElStyles(e,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),t.appendChild(e);var r=e.getBoundingClientRect();return t.removeChild(e),e.remove(),{xScale:1/r.width,yScale:1/r.height,xOffset:r.left,yOffset:r.top}},a.swap=function(t,e,r){var n=t[e];t[e]=t[r],t[r]=n},a}();Y.Utils=di;var j=A&&A.__assign||function(){return j=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},j.apply(this,arguments)};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.GridStackEngine=void 0;var O=Y;Ht.GridStackEngine=function(){function a(t){t===void 0&&(t={}),this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}return a.prototype.batchUpdate=function(t,e){return t===void 0&&(t=!0),e===void 0&&(e=!0),!!this.batchMode===t?this:(this.batchMode=t,t?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,e&&this._packNodes(),this._notify()),this)},a.prototype._useEntireRowArea=function(t,e){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)},a.prototype._fixCollisions=function(t,e,r,n){if(e===void 0&&(e=t),n===void 0&&(n={}),this.sortNodes(-1),r=r||this.collide(t,e),!r)return!1;if(t._moving&&!n.nested&&!this.float&&this.swap(t,r))return!0;var o=e;this._useEntireRowArea(t,e)&&(o={x:0,w:this.column,y:e.y,h:e.h},r=this.collide(t,o,n.skip));for(var u=!1,c={nested:!0,pack:!1};r=r||this.collide(t,o,n.skip);){var m=void 0;if(r.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(r,j(j({},r),{y:t.y}),t)||!this.collide(r,j(j({},r),{y:e.y-r.h}),t))?(t._skipDown=t._skipDown||e.y>t.y,m=this.moveNode(t,j(j(j({},e),{y:r.y+r.h}),c)),r.locked&&m?O.Utils.copyPos(e,t):!r.locked&&m&&n.pack&&(this._packNodes(),e.y=r.y+r.h,O.Utils.copyPos(t,e)),u=u||m):m=this.moveNode(r,j(j(j({},r),{y:e.y+e.h,skip:t}),c)),!m)return u;r=void 0}return u},a.prototype.collide=function(t,e,r){e===void 0&&(e=t);var n=t._id,o=r==null?void 0:r._id;return this.nodes.find(function(u){return u._id!==n&&u._id!==o&&O.Utils.isIntercepted(u,e)})},a.prototype.collideAll=function(t,e,r){e===void 0&&(e=t);var n=t._id,o=r==null?void 0:r._id;return this.nodes.filter(function(u){return u._id!==n&&u._id!==o&&O.Utils.isIntercepted(u,e)})},a.prototype.directionCollideCoverage=function(t,e,r){if(!(!e.rect||!t._rect)){var n=t._rect,o=j({},e.rect);o.y>n.y?(o.h+=o.y-n.y,o.y=n.y):o.h+=n.y-o.y,o.x>n.x?(o.w+=o.x-n.x,o.x=n.x):o.w+=n.x-o.x;for(var u,c=.5,m=0,C=r;m<C.length;m++){var S=C[m];if(S.locked||!S._rect)break;var R=S._rect,d=Number.MAX_VALUE,i=Number.MAX_VALUE;n.y<R.y?d=(o.y+o.h-R.y)/R.h:n.y+n.h>R.y+R.h&&(d=(R.y+R.h-o.y)/R.h),n.x<R.x?i=(o.x+o.w-R.x)/R.w:n.x+n.w>R.x+R.w&&(i=(R.x+R.w-o.x)/R.w);var s=Math.min(i,d);s>c&&(c=s,u=S)}return e.collide=u,u}},a.prototype.cacheRects=function(t,e,r,n,o,u){return this.nodes.forEach(function(c){return c._rect={y:c.y*e+r,x:c.x*t+u,w:c.w*t-u-n,h:c.h*e-r-o}}),this},a.prototype.swap=function(t,e){if(!e||e.locked||!t||t.locked)return!1;function r(){var u=e.x,c=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=u,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=c):(t.x=u,t.y=c),t._dirty=e._dirty=!0,!0}var n;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(n=O.Utils.isTouching(t,e)))return r();if(n!==!1){if(t.w===e.w&&t.x===e.x&&(n||(n=O.Utils.isTouching(t,e)))){if(e.y<t.y){var o=t;t=e,e=o}return r()}if(n!==!1){if(t.h===e.h&&t.y===e.y&&(n||(n=O.Utils.isTouching(t,e)))){if(e.x<t.x){var o=t;t=e,e=o}return r()}return!1}}},a.prototype.isAreaEmpty=function(t,e,r,n){var o={x:t||0,y:e||0,w:r||1,h:n||1};return!this.collide(o)},a.prototype.compact=function(t,e){var r=this;if(t===void 0&&(t="compact"),e===void 0&&(e=!0),this.nodes.length===0)return this;e&&this.sortNodes();var n=this.batchMode;n||this.batchUpdate();var o=this._inColumnResize;o||(this._inColumnResize=!0);var u=this.nodes;return this.nodes=[],u.forEach(function(c,m,C){var S;c.locked||(c.autoPosition=!0,t==="list"&&m&&(S=C[m-1])),r.addNode(c,!1,S)}),o||delete this._inColumnResize,n||this.batchUpdate(!1),this},Object.defineProperty(a.prototype,"float",{get:function(){return this._float||!1},set:function(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())},enumerable:!1,configurable:!0}),a.prototype.sortNodes=function(t){return t===void 0&&(t=1),this.nodes=O.Utils.sort(this.nodes,t),this},a.prototype._packNodes=function(){var t=this;return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(function(e){if(!(e._updating||e._orig===void 0||e.y===e._orig.y))for(var r=e.y;r>e._orig.y;){--r;var n=t.collide(e,{x:e.x,y:r,w:e.w,h:e.h});n||(e._dirty=!0,e.y=r)}}):this.nodes.forEach(function(e,r){if(!e.locked)for(;e.y>0;){var n=r===0?0:e.y-1,o=r===0||!t.collide(e,{x:e.x,y:n,w:e.w,h:e.h});if(!o)break;e._dirty=e.y!==n,e.y=n}}),this)},a.prototype.prepareNode=function(t,e){var r;t._id=(r=t._id)!==null&&r!==void 0?r:a._idSeq++,(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);var n={x:0,y:0,w:1,h:1};return O.Utils.defaults(t,n),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,O.Utils.sanitizeMinMax(t),typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=n.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=n.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=n.w),isNaN(t.h)&&(t.h=n.h),this.nodeBoundFix(t,e),t},a.prototype.nodeBoundFix=function(t,e){var r=t._orig||O.Utils.copyPos({},t);t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH));var n=(t.x||0)+(t.w||1)>this.column;if(n&&this.column<12&&!this._inColumnResize&&t._id&&this.findCacheLayout(t,12)===-1){var o=j({},t);o.autoPosition||o.x===void 0?(delete o.x,delete o.y):o.x=Math.min(11,o.x),o.w=Math.min(12,o.w||1),this.cacheOneLayout(o,12)}return t.w>this.column?t.w=this.column:t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),O.Utils.samePos(t,r)||(t._dirty=!0),this},a.prototype.getDirtyNodes=function(t){return t?this.nodes.filter(function(e){return e._dirty&&!O.Utils.samePos(e,e._orig)}):this.nodes.filter(function(e){return e._dirty})},a.prototype._notify=function(t){if(this.batchMode||!this.onChange)return this;var e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this},a.prototype.cleanNodes=function(){return this.batchMode?this:(this.nodes.forEach(function(t){delete t._dirty,delete t._lastTried}),this)},a.prototype.saveInitial=function(){return this.nodes.forEach(function(t){t._orig=O.Utils.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(function(t){return t.locked}),this},a.prototype.restoreInitial=function(){return this.nodes.forEach(function(t){O.Utils.samePos(t,t._orig)||(O.Utils.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this},a.prototype.findEmptyPosition=function(t,e,r,n){e===void 0&&(e=this.nodes),r===void 0&&(r=this.column);for(var o=n?n.y*r+(n.x+n.w):0,u=!1,c=function(C){var S=C%r,R=Math.floor(C/r);if(S+t.w>r)return"continue";var d={x:S,y:R,w:t.w,h:t.h};e.find(function(i){return O.Utils.isIntercepted(d,i)})||((t.x!==S||t.y!==R)&&(t._dirty=!0),t.x=S,t.y=R,delete t.autoPosition,u=!0)},m=o;!u;++m)c(m);return u},a.prototype.addNode=function(t,e,r){e===void 0&&(e=!1);var n=this.nodes.find(function(u){return u._id===t._id});if(n)return n;this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM;var o;return t.autoPosition&&this.findEmptyPosition(t,this.nodes,this.column,r)&&(delete t.autoPosition,o=!0),this.nodes.push(t),e&&this.addedNodes.push(t),o||this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t},a.prototype.removeNode=function(t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=!1),this.nodes.find(function(n){return n._id===t._id})?(r&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(function(n){return n._id!==t._id}),t._isAboutToRemove||this._packNodes(),this._notify([t]),this):this},a.prototype.removeAll=function(t,e){if(t===void 0&&(t=!0),e===void 0&&(e=!0),delete this._layouts,!this.nodes.length)return this;t&&this.nodes.forEach(function(n){return n._removeDOM=!0});var r=this.nodes;return this.removedNodes=e?r:[],this.nodes=[],this._notify(r)},a.prototype.moveNodeCheck=function(t,e){var r=this;if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);var n,o=new a({column:this.column,float:this.float,nodes:this.nodes.map(function(m){return m._id===t._id?(n=j({},m),n):j({},m)})});if(!n)return!1;var u=o.moveNode(n,e)&&o.getRow()<=Math.max(this.getRow(),this.maxRow);if(!u&&!e.resizing&&e.collide){var c=e.collide.el.gridstackNode;if(this.swap(t,c))return this._notify(),!0}return u?(o.nodes.filter(function(m){return m._dirty}).forEach(function(m){var C=r.nodes.find(function(S){return S._id===m._id});C&&(O.Utils.copyPos(C,m),C._dirty=!0)}),this._notify(),!0):!1},a.prototype.willItFit=function(t){if(delete t._willFitPos,!this.maxRow)return!0;var e=new a({column:this.column,float:this.float,nodes:this.nodes.map(function(n){return j({},n)})}),r=j({},t);return this.cleanupNode(r),delete r.el,delete r._id,delete r.content,delete r.grid,e.addNode(r),e.getRow()<=this.maxRow?(t._willFitPos=O.Utils.copyPos({},r),!0):!1},a.prototype.changedPosConstrain=function(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)},a.prototype.moveNode=function(t,e){var r,n;if(!t||!e)return!1;var o;e.pack===void 0&&!this.batchMode&&(o=e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);var u=t.w!==e.w||t.h!==e.h,c=O.Utils.copyPos({},t,!0);if(O.Utils.copyPos(c,e),this.nodeBoundFix(c,u),O.Utils.copyPos(e,c),!e.forceCollide&&O.Utils.samePos(t,e))return!1;var m=O.Utils.copyPos({},t),C=this.collideAll(t,c,e.skip),S=!0;if(C.length){var R=t._moving&&!e.nested,d=R?this.directionCollideCoverage(t,e,C):C[0];if(R&&d&&(!((n=(r=t.grid)===null||r===void 0?void 0:r.opts)===null||n===void 0)&&n.subGridDynamic)&&!t.grid._isTemp){var i=O.Utils.areaIntercept(e.rect,d._rect),s=O.Utils.area(e.rect),l=O.Utils.area(d._rect),h=i/(s<l?s:l);h>.8&&(d.grid.makeSubGrid(d.el,void 0,t),d=void 0)}d?S=!this._fixCollisions(t,c,d,e):(S=!1,o&&delete e.pack)}return S&&(t._dirty=!0,O.Utils.copyPos(t,c)),e.pack&&this._packNodes()._notify(),!O.Utils.samePos(t,m)},a.prototype.getRow=function(){return this.nodes.reduce(function(t,e){return Math.max(t,e.y+e.h)},0)},a.prototype.beginUpdate=function(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this},a.prototype.endUpdate=function(){var t=this.nodes.find(function(e){return e._updating});return t&&(delete t._updating,delete t._skipDown),this},a.prototype.save=function(t,e){var r;t===void 0&&(t=!0);var n=(r=this._layouts)===null||r===void 0?void 0:r.length,o=n&&this.column!==n-1?this._layouts[n-1]:null,u=[];return this.sortNodes(),this.nodes.forEach(function(c){var m=o==null?void 0:o.find(function(S){return S._id===c._id}),C=j(j({},c),m||{});O.Utils.removeInternalForSave(C,!t),e&&e(c,C),u.push(C)}),u},a.prototype.layoutsNodesChange=function(t){var e=this;return!this._layouts||this._inColumnResize?this:(this._layouts.forEach(function(r,n){if(!r||n===e.column)return e;if(n<e.column)e._layouts[n]=void 0;else{var o=n/e.column;t.forEach(function(u){if(u._orig){var c=r.find(function(m){return m._id===u._id});c&&(c.y>=0&&u.y!==u._orig.y&&(c.y+=u.y-u._orig.y),u.x!==u._orig.x&&(c.x=Math.round(u.x*o)),u.w!==u._orig.w&&(c.w=Math.round(u.w*o)))}})}}),this)},a.prototype.columnChanged=function(t,e,r){var n=this,o;if(r===void 0&&(r="moveScale"),!this.nodes.length||!e||t===e)return this;if(r==="none")return this;var u=r==="compact"||r==="list";u&&this.sortNodes(1),e<t&&this.cacheLayout(this.nodes,t),this.batchUpdate();var c=[],m=u?this.nodes:O.Utils.sort(this.nodes,-1);if(e>t&&this._layouts){var C=this._layouts[e]||[],S=this._layouts.length-1;!C.length&&t!==S&&(!((o=this._layouts[S])===null||o===void 0)&&o.length)&&(t=S,this._layouts[S].forEach(function(s){var l,h,f,g=m.find(function(y){return y._id===s._id});g&&(!u&&!s.autoPosition&&(g.x=(l=s.x)!==null&&l!==void 0?l:g.x,g.y=(h=s.y)!==null&&h!==void 0?h:g.y),g.w=(f=s.w)!==null&&f!==void 0?f:g.w,(s.x==null||s.y===void 0)&&(g.autoPosition=!0))})),C.forEach(function(s){var l,h,f,g=m.findIndex(function(v){return v._id===s._id});if(g!==-1){var y=m[g];if(u){y.w=s.w;return}(s.autoPosition||isNaN(s.x)||isNaN(s.y))&&n.findEmptyPosition(s,c),s.autoPosition||(y.x=(l=s.x)!==null&&l!==void 0?l:y.x,y.y=(h=s.y)!==null&&h!==void 0?h:y.y,y.w=(f=s.w)!==null&&f!==void 0?f:y.w,c.push(y)),m.splice(g,1)}})}if(u)this.compact(r,!1);else{if(m.length)if(typeof r=="function")r(e,t,c,m);else{var R=u?1:e/t,d=r==="move"||r==="moveScale",i=r==="scale"||r==="moveScale";m.forEach(function(s){s.x=e===1?0:d?Math.round(s.x*R):Math.min(s.x,e-1),s.w=e===1||t===1?1:i?Math.round(s.w*R)||1:Math.min(s.w,e),c.push(s)}),m=[]}c=O.Utils.sort(c,-1),this._inColumnResize=!0,this.nodes=[],c.forEach(function(s){n.addNode(s,!1),delete s._orig})}return this.nodes.forEach(function(s){return delete s._orig}),this.batchUpdate(!1,!u),delete this._inColumnResize,this},a.prototype.cacheLayout=function(t,e,r){var n=this;r===void 0&&(r=!1);var o=[];return t.forEach(function(u,c){var m;if(u._id===void 0){var C=u.id?n.nodes.find(function(S){return S.id===u.id}):void 0;u._id=(m=C==null?void 0:C._id)!==null&&m!==void 0?m:a._idSeq++}o[c]={x:u.x,y:u.y,w:u.w,_id:u._id}}),this._layouts=r?[]:this._layouts||[],this._layouts[e]=o,this},a.prototype.cacheOneLayout=function(t,e){var r;t._id=(r=t._id)!==null&&r!==void 0?r:a._idSeq++;var n={x:t.x,y:t.y,w:t.w,_id:t._id};(t.autoPosition||t.x===void 0)&&(delete n.x,delete n.y,t.autoPosition&&(n.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];var o=this.findCacheLayout(t,e);return o===-1?this._layouts[e].push(n):this._layouts[e][o]=n,this},a.prototype.findCacheLayout=function(t,e){var r,n,o;return(o=(n=(r=this._layouts)===null||r===void 0?void 0:r[e])===null||n===void 0?void 0:n.findIndex(function(u){return u._id===t._id}))!==null&&o!==void 0?o:-1},a.prototype.removeNodeFromLayoutCache=function(t){if(this._layouts)for(var e=0;e<this._layouts.length;e++){var r=this.findCacheLayout(t,e);r!==-1&&this._layouts[e].splice(r,1)}},a.prototype.cleanupNode=function(t){for(var e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this},a._idSeq=0,a}();var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.dragInDefaultOptions=_t.gridDefaults=void 0;_t.gridDefaults={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};_t.dragInDefaultOptions={handle:".grid-stack-item-content",appendTo:"body"};var Mt={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.DDManager=void 0;var fi=function(){function a(){}return a}();ht.DDManager=fi;var Vt={},Kt={},Jt={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.pointerleave=W.pointerenter=W.pointerdown=W.touchend=W.touchmove=W.touchstart=W.isTouch=void 0;var ue=ht;W.isTouch=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);var at=function(){function a(){}return a}();function Xt(a,t){if(!(a.touches.length>1)){a.cancelable&&a.preventDefault();var e=a.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(r)}}function He(a,t){a.cancelable&&a.preventDefault();var e=document.createEvent("MouseEvents");e.initMouseEvent(t,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(e)}function ci(a){at.touchHandled||(at.touchHandled=!0,Xt(a,"mousedown"))}W.touchstart=ci;function pi(a){at.touchHandled&&Xt(a,"mousemove")}W.touchmove=pi;function gi(a){if(at.touchHandled){at.pointerLeaveTimeout&&(window.clearTimeout(at.pointerLeaveTimeout),delete at.pointerLeaveTimeout);var t=!!ue.DDManager.dragElement;Xt(a,"mouseup"),t||Xt(a,"click"),at.touchHandled=!1}}W.touchend=gi;function vi(a){a.pointerType!=="mouse"&&a.target.releasePointerCapture(a.pointerId)}W.pointerdown=vi;function mi(a){ue.DDManager.dragElement&&a.pointerType!=="mouse"&&He(a,"mouseenter")}W.pointerenter=mi;function _i(a){ue.DDManager.dragElement&&a.pointerType!=="mouse"&&(at.pointerLeaveTimeout=window.setTimeout(function(){delete at.pointerLeaveTimeout,He(a,"mouseleave")},10))}W.pointerleave=_i;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DDResizableHandle=void 0;var tt=W;Jt.DDResizableHandle=function(){function a(t,e,r){this.host=t,this.dir=e,this.option=r,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}return a.prototype._init=function(){var t=this.el=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add("".concat(a.prefix).concat(this.dir)),t.style.zIndex="100",t.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),tt.isTouch&&(this.el.addEventListener("touchstart",tt.touchstart),this.el.addEventListener("pointerdown",tt.pointerdown)),this},a.prototype.destroy=function(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),tt.isTouch&&(this.el.removeEventListener("touchstart",tt.touchstart),this.el.removeEventListener("pointerdown",tt.pointerdown)),this.host.removeChild(this.el),delete this.el,delete this.host,this},a.prototype._mouseDown=function(t){this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),tt.isTouch&&(this.el.addEventListener("touchmove",tt.touchmove),this.el.addEventListener("touchend",tt.touchend)),t.stopPropagation(),t.preventDefault()},a.prototype._mouseMove=function(t){var e=this.mouseDownEvent;this.moving?this._triggerEvent("move",t):Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",t),document.addEventListener("keydown",this._keyEvent)),t.stopPropagation()},a.prototype._mouseUp=function(t){this.moving&&(this._triggerEvent("stop",t),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),tt.isTouch&&(this.el.removeEventListener("touchmove",tt.touchmove),this.el.removeEventListener("touchend",tt.touchend)),delete this.moving,delete this.mouseDownEvent,t.stopPropagation(),t.preventDefault()},a.prototype._keyEvent=function(t){var e,r;t.key==="Escape"&&((r=(e=this.host.gridstackNode)===null||e===void 0?void 0:e.grid)===null||r===void 0||r.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))},a.prototype._triggerEvent=function(t,e){return this.option[t]&&this.option[t](e),this},a.prefix="ui-resizable-",a}();var St={};Object.defineProperty(St,"__esModule",{value:!0});St.DDBaseImplement=void 0;var yi=function(){function a(){this._eventRegister={}}return Object.defineProperty(a.prototype,"disabled",{get:function(){return this._disabled},enumerable:!1,configurable:!0}),a.prototype.on=function(t,e){this._eventRegister[t]=e},a.prototype.off=function(t){delete this._eventRegister[t]},a.prototype.enable=function(){this._disabled=!1},a.prototype.disable=function(){this._disabled=!0},a.prototype.destroy=function(){delete this._eventRegister},a.prototype.triggerEvent=function(t,e){if(!this.disabled&&this._eventRegister&&this._eventRegister[t])return this._eventRegister[t](e)},a}();St.DDBaseImplement=yi;var bi=A&&A.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.DDResizable=void 0;var wi=Jt,Ei=St,xt=Y,gt=ht;Kt.DDResizable=function(a){bi(t,a);function t(e,r){r===void 0&&(r={});var n=a.call(this)||this;return n.el=e,n.option=r,n.rectScale={x:1,y:1},n._ui=function(){var o=n.el.parentElement,u=o.getBoundingClientRect(),c={width:n.originalRect.width,height:n.originalRect.height+n.scrolled,left:n.originalRect.left,top:n.originalRect.top-n.scrolled},m=n.temporalRect||c;return{position:{left:(m.left-u.left)*n.rectScale.x,top:(m.top-u.top)*n.rectScale.y},size:{width:m.width*n.rectScale.x,height:m.height*n.rectScale.y}}},n._mouseOver=n._mouseOver.bind(n),n._mouseOut=n._mouseOut.bind(n),n.enable(),n._setupAutoHide(n.option.autoHide),n._setupHandlers(),n}return t.prototype.on=function(e,r){a.prototype.on.call(this,e,r)},t.prototype.off=function(e){a.prototype.off.call(this,e)},t.prototype.enable=function(){a.prototype.enable.call(this),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)},t.prototype.disable=function(){a.prototype.disable.call(this),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)},t.prototype.destroy=function(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,a.prototype.destroy.call(this)},t.prototype.updateOption=function(e){var r=this,n=e.handles&&e.handles!==this.option.handles,o=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach(function(u){return r.option[u]=e[u]}),n&&(this._removeHandlers(),this._setupHandlers()),o&&this._setupAutoHide(this.option.autoHide),this},t.prototype._setupAutoHide=function(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),gt.DDManager.overResizeElement===this&&delete gt.DDManager.overResizeElement),this},t.prototype._mouseOver=function(e){gt.DDManager.overResizeElement||gt.DDManager.dragElement||(gt.DDManager.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))},t.prototype._mouseOut=function(e){gt.DDManager.overResizeElement===this&&(delete gt.DDManager.overResizeElement,this.el.classList.add("ui-resizable-autohide"))},t.prototype._setupHandlers=function(){var e=this;return this.handlers=this.option.handles.split(",").map(function(r){return r.trim()}).map(function(r){return new wi.DDResizableHandle(e.el,r,{start:function(n){e._resizeStart(n)},stop:function(n){e._resizeStop(n)},move:function(n){e._resizing(n,r)}})}),this},t.prototype._resizeStart=function(e){this.sizeToContent=xt.Utils.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=xt.Utils.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();var r=xt.Utils.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(r,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",r),this},t.prototype._resizing=function(e,r){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,r),this._applyChange();var n=xt.Utils.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(n,this._ui()),this.triggerEvent("resize",n),this},t.prototype._resizeStop=function(e){var r=xt.Utils.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(r),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",r),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this},t.prototype._setupHelper=function(){var e=this;this.elOriginStyleVal=t._originStyleProp.map(function(o){return e.el.style[o]}),this.parentOriginStylePosition=this.el.parentElement.style.position;var r=this.el.parentElement,n=xt.Utils.getValuesFromTransformedElement(r);return this.rectScale={x:n.xScale,y:n.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this},t.prototype._cleanHelper=function(){var e=this;return t._originStyleProp.forEach(function(r,n){e.el.style[r]=e.elOriginStyleVal[n]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this},t.prototype._getChange=function(e,r){var n=this.startEvent,o={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},u=e.clientX-n.clientX,c=this.sizeToContent?0:e.clientY-n.clientY;r.indexOf("e")>-1?o.width+=u:r.indexOf("w")>-1&&(o.width-=u,o.left+=u),r.indexOf("s")>-1?o.height+=c:r.indexOf("n")>-1&&(o.height-=c,o.top+=c);var m=this._constrainSize(o.width,o.height);return Math.round(o.width)!==Math.round(m.width)&&(r.indexOf("w")>-1&&(o.left+=o.width-m.width),o.width=m.width),Math.round(o.height)!==Math.round(m.height)&&(r.indexOf("n")>-1&&(o.top+=o.height-m.height),o.height=m.height),o},t.prototype._constrainSize=function(e,r){var n=this.option.maxWidth||Number.MAX_SAFE_INTEGER,o=this.option.minWidth/this.rectScale.x||e,u=this.option.maxHeight||Number.MAX_SAFE_INTEGER,c=this.option.minHeight/this.rectScale.y||r,m=Math.min(n,Math.max(o,e)),C=Math.min(u,Math.max(c,r));return{width:m,height:C}},t.prototype._applyChange=function(){var e,r=this,n={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){var o=this.el.parentElement,u=(e=o.getBoundingClientRect(),e.left),c=e.top;n={left:u,top:c,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(function(m){var C=r.temporalRect[m],S=m==="width"||m==="left"?r.rectScale.x:m==="height"||m==="top"?r.rectScale.y:1;r.el.style[m]=(C-n[m])*S+"px"}),this):this},t.prototype._removeHandlers=function(){return this.handlers.forEach(function(e){return e.destroy()}),delete this.handlers,this},t._originStyleProp=["width","height","position","left","top","opacity","zIndex"],t}(Ei.DDBaseImplement);var Qt={},Di=A&&A.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ae=A&&A.__assign||function(){return ae=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},ae.apply(this,arguments)};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.DDDraggable=void 0;var q=ht,vt=Y,xi=St,et=W,Ci='input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle';Qt.DDDraggable=function(a){Di(t,a);function t(e,r){r===void 0&&(r={});var n=a.call(this)||this;n.el=e,n.option=r,n.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};var o=r.handle.substring(1);return n.dragEl=e.classList.contains(o)?e:e.querySelector(r.handle)||e,n._mouseDown=n._mouseDown.bind(n),n._mouseMove=n._mouseMove.bind(n),n._mouseUp=n._mouseUp.bind(n),n._keyEvent=n._keyEvent.bind(n),n.enable(),n}return t.prototype.on=function(e,r){a.prototype.on.call(this,e,r)},t.prototype.off=function(e){a.prototype.off.call(this,e)},t.prototype.enable=function(){this.disabled!==!1&&(a.prototype.enable.call(this),this.dragEl.addEventListener("mousedown",this._mouseDown),et.isTouch&&(this.dragEl.addEventListener("touchstart",et.touchstart),this.dragEl.addEventListener("pointerdown",et.pointerdown)),this.el.classList.remove("ui-draggable-disabled"))},t.prototype.disable=function(e){e===void 0&&(e=!1),this.disabled!==!0&&(a.prototype.disable.call(this),this.dragEl.removeEventListener("mousedown",this._mouseDown),et.isTouch&&(this.dragEl.removeEventListener("touchstart",et.touchstart),this.dragEl.removeEventListener("pointerdown",et.pointerdown)),e||this.el.classList.add("ui-draggable-disabled"))},t.prototype.destroy=function(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,a.prototype.destroy.call(this)},t.prototype.updateOption=function(e){var r=this;return Object.keys(e).forEach(function(n){return r.option[n]=e[n]}),this},t.prototype._mouseDown=function(e){if(!q.DDManager.mouseHandled)return e.button!==0||e.target!==this.dragEl&&e.target.closest(Ci)||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete q.DDManager.dragElement,delete q.DDManager.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),et.isTouch&&(this.dragEl.addEventListener("touchmove",et.touchmove),this.dragEl.addEventListener("touchend",et.touchend)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),q.DDManager.mouseHandled=!0),!0},t.prototype._callDrag=function(e){if(this.dragging){var r=vt.Utils.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(r,this.ui()),this.triggerEvent("drag",r)}},t.prototype._mouseMove=function(e){var r=this,n,o=this.mouseDownEvent;if(this.lastDrag=e,this.dragging)if(this._dragFollow(e),q.DDManager.pauseDrag){var u=Number.isInteger(q.DDManager.pauseDrag)?q.DDManager.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(function(){return r._callDrag(e)},u)}else this._callDrag(e);else if(Math.abs(e.x-o.x)+Math.abs(e.y-o.y)>3){this.dragging=!0,q.DDManager.dragElement=this;var c=(n=this.el.gridstackNode)===null||n===void 0?void 0:n.grid;c?q.DDManager.dropElement=c.el.ddElement.ddDroppable:delete q.DDManager.dropElement,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragTransform=vt.Utils.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment),this._setupHelperStyle(e);var m=vt.Utils.initEvent(e,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(m,this.ui()),this.triggerEvent("dragstart",m),document.addEventListener("keydown",this._keyEvent)}return!0},t.prototype._mouseUp=function(e){var r,n;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),et.isTouch&&(this.dragEl.removeEventListener("touchmove",et.touchmove,!0),this.dragEl.removeEventListener("touchend",et.touchend,!0)),this.dragging){delete this.dragging,(r=this.el.gridstackNode)===null||r===void 0||delete r._origRotate,document.removeEventListener("keydown",this._keyEvent),((n=q.DDManager.dropElement)===null||n===void 0?void 0:n.el)===this.el.parentElement&&delete q.DDManager.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();var o=vt.Utils.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(o),this.triggerEvent("dragstop",o),q.DDManager.dropElement&&q.DDManager.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete q.DDManager.dragElement,delete q.DDManager.dropElement,delete q.DDManager.mouseHandled,e.preventDefault()},t.prototype._keyEvent=function(e){var r=this.el.gridstackNode;if(r){var n=r.grid;if(e.key==="Escape")r._origRotate&&(r._orig=r._origRotate,delete r._origRotate),n.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent);else if(e.key==="r"||e.key==="R"){if(r.w===r.h)return;r._origRotate=r._origRotate||ae({},r._orig),delete r._moving,n.setAnimation(!1).rotate(r.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),r._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,r.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",vt.Utils.swap(r._orig,"w","h"),delete r._rect,this._mouseMove(this.lastDrag)}}},t.prototype._createHelper=function(e){var r=this,n=this.el;return typeof this.option.helper=="function"?n=this.option.helper(e):this.option.helper==="clone"&&(n=vt.Utils.cloneNode(this.el)),document.body.contains(n)||vt.Utils.appendTo(n,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),n===this.el&&(this.dragElementOriginStyle=t.originStyleProp.map(function(o){return r.el.style[o]})),n},t.prototype._setupHelperStyle=function(e){var r=this;this.helper.classList.add("ui-draggable-dragging");var n=this.helper.style;return n.pointerEvents="none",n.width=this.dragOffset.width+"px",n.height=this.dragOffset.height+"px",n.willChange="left, top",n.position="fixed",this._dragFollow(e),n.transition="none",setTimeout(function(){r.helper&&(n.transition=null)},0),this},t.prototype._removeHelperStyle=function(){var e=this,r;this.helper.classList.remove("ui-draggable-dragging");var n=(r=this.helper)===null||r===void 0?void 0:r.gridstackNode;if(!(n!=null&&n._isAboutToRemove)&&this.dragElementOriginStyle){var o=this.helper,u=this.dragElementOriginStyle.transition||null;o.style.transition=this.dragElementOriginStyle.transition="none",t.originStyleProp.forEach(function(c){return o.style[c]=e.dragElementOriginStyle[c]||null}),setTimeout(function(){return o.style.transition=u},50)}return delete this.dragElementOriginStyle,this},t.prototype._dragFollow=function(e){var r={left:0,top:0},n=this.helper.style,o=this.dragOffset;n.left=(e.clientX+o.offsetLeft-r.left)*this.dragTransform.xScale+"px",n.top=(e.clientY+o.offsetTop-r.top)*this.dragTransform.yScale+"px"},t.prototype._setupHelperContainmentStyle=function(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this},t.prototype._getDragOffset=function(e,r,n){var o=0,u=0;n&&(o=this.dragTransform.xOffset,u=this.dragTransform.yOffset);var c=r.getBoundingClientRect();return{left:c.left,top:c.top,offsetLeft:-e.clientX+c.left-o,offsetTop:-e.clientY+c.top-u,width:c.width*this.dragTransform.xScale,height:c.height*this.dragTransform.yScale}},t.prototype.ui=function(){var e=this.el.parentElement,r=e.getBoundingClientRect(),n=this.helper.getBoundingClientRect();return{position:{top:(n.top-r.top)*this.dragTransform.yScale,left:(n.left-r.left)*this.dragTransform.xScale}}},t.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"],t}(xi.DDBaseImplement);var Zt={},Si=A&&A.__extends||function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},a(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),le=A&&A.__assign||function(){return le=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},le.apply(this,arguments)};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DDDroppable=void 0;var K=ht,Ri=St,oe=Y,Ct=W,zi=function(a){Si(t,a);function t(e,r){r===void 0&&(r={});var n=a.call(this)||this;return n.el=e,n.option=r,n._mouseEnter=n._mouseEnter.bind(n),n._mouseLeave=n._mouseLeave.bind(n),n.enable(),n._setupAccept(),n}return t.prototype.on=function(e,r){a.prototype.on.call(this,e,r)},t.prototype.off=function(e){a.prototype.off.call(this,e)},t.prototype.enable=function(){this.disabled!==!1&&(a.prototype.enable.call(this),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),Ct.isTouch&&(this.el.addEventListener("pointerenter",Ct.pointerenter),this.el.addEventListener("pointerleave",Ct.pointerleave)))},t.prototype.disable=function(e){e===void 0&&(e=!1),this.disabled!==!0&&(a.prototype.disable.call(this),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),Ct.isTouch&&(this.el.removeEventListener("pointerenter",Ct.pointerenter),this.el.removeEventListener("pointerleave",Ct.pointerleave)))},t.prototype.destroy=function(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),a.prototype.destroy.call(this)},t.prototype.updateOption=function(e){var r=this;return Object.keys(e).forEach(function(n){return r.option[n]=e[n]}),this._setupAccept(),this},t.prototype._mouseEnter=function(e){if(K.DDManager.dragElement&&this._canDrop(K.DDManager.dragElement.el)){e.preventDefault(),e.stopPropagation(),K.DDManager.dropElement&&K.DDManager.dropElement!==this&&K.DDManager.dropElement._mouseLeave(e,!0),K.DDManager.dropElement=this;var r=oe.Utils.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(r,this._ui(K.DDManager.dragElement)),this.triggerEvent("dropover",r),this.el.classList.add("ui-droppable-over")}},t.prototype._mouseLeave=function(e,r){var n;if(r===void 0&&(r=!1),!(!K.DDManager.dragElement||K.DDManager.dropElement!==this)){e.preventDefault(),e.stopPropagation();var o=oe.Utils.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(o,this._ui(K.DDManager.dragElement)),this.triggerEvent("dropout",o),K.DDManager.dropElement===this&&(delete K.DDManager.dropElement,!r)){for(var u=void 0,c=this.el.parentElement;!u&&c;)u=(n=c.ddElement)===null||n===void 0?void 0:n.ddDroppable,c=c.parentElement;u&&u._mouseEnter(e)}}},t.prototype.drop=function(e){e.preventDefault();var r=oe.Utils.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(r,this._ui(K.DDManager.dragElement)),this.triggerEvent("drop",r)},t.prototype._canDrop=function(e){return e&&(!this.accept||this.accept(e))},t.prototype._setupAccept=function(){var e=this;return this.option.accept?(typeof this.option.accept=="string"?this.accept=function(r){return r.classList.contains(e.option.accept)||r.matches(e.option.accept)}:this.accept=this.option.accept,this):this},t.prototype._ui=function(e){return le({draggable:e.el},e.ui())},t}(Ri.DDBaseImplement);Zt.DDDroppable=zi;Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DDElement=void 0;var Ti=Kt,ki=Qt,Hi=Zt,Mi=function(){function a(t){this.el=t}return a.init=function(t){return t.ddElement||(t.ddElement=new a(t)),t.ddElement},a.prototype.on=function(t,e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,e),this},a.prototype.off=function(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this},a.prototype.setupDraggable=function(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new ki.DDDraggable(this.el,t),this},a.prototype.cleanDraggable=function(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this},a.prototype.setupResizable=function(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new Ti.DDResizable(this.el,t),this},a.prototype.cleanResizable=function(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this},a.prototype.setupDroppable=function(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new Hi.DDDroppable(this.el,t),this},a.prototype.cleanDroppable=function(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this},a}();Vt.DDElement=Mi;var mt=A&&A.__assign||function(){return mt=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},mt.apply(this,arguments)};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.DDGridStack=void 0;var Ni=Y,Bt=ht,Ui=Vt,Oi=function(){function a(){}return a.prototype.resizable=function(t,e,r,n){return this._getDDElements(t).forEach(function(o){var u;if(e==="disable"||e==="enable")o.ddResizable&&o.ddResizable[e]();else if(e==="destroy")o.ddResizable&&o.cleanResizable();else if(e==="option")o.setupResizable((u={},u[r]=n,u));else{var c=o.el.gridstackNode,m=c.grid,C=o.el.getAttribute("gs-resize-handles")||m.opts.resizable.handles||"e,s,se";C==="all"&&(C="n,e,s,w,se,sw,ne,nw");var S=!m.opts.alwaysShowResizeHandle;o.setupResizable(mt(mt(mt({},m.opts.resizable),{handles:C,autoHide:S}),{start:e.start,stop:e.stop,resize:e.resize}))}}),this},a.prototype.draggable=function(t,e,r,n){return this._getDDElements(t).forEach(function(o){var u;if(e==="disable"||e==="enable")o.ddDraggable&&o.ddDraggable[e]();else if(e==="destroy")o.ddDraggable&&o.cleanDraggable();else if(e==="option")o.setupDraggable((u={},u[r]=n,u));else{var c=o.el.gridstackNode.grid;o.setupDraggable(mt(mt({},c.opts.draggable),{start:e.start,stop:e.stop,drag:e.drag}))}}),this},a.prototype.dragIn=function(t,e){return this._getDDElements(t).forEach(function(r){return r.setupDraggable(e)}),this},a.prototype.droppable=function(t,e,r,n){return typeof e.accept=="function"&&!e._accept&&(e._accept=e.accept,e.accept=function(o){return e._accept(o)}),this._getDDElements(t).forEach(function(o){var u;e==="disable"||e==="enable"?o.ddDroppable&&o.ddDroppable[e]():e==="destroy"?o.ddDroppable&&o.cleanDroppable():e==="option"?o.setupDroppable((u={},u[r]=n,u)):o.setupDroppable(e)}),this},a.prototype.isDroppable=function(t){return!!(t&&t.ddElement&&t.ddElement.ddDroppable&&!t.ddElement.ddDroppable.disabled)},a.prototype.isDraggable=function(t){return!!(t&&t.ddElement&&t.ddElement.ddDraggable&&!t.ddElement.ddDraggable.disabled)},a.prototype.isResizable=function(t){return!!(t&&t.ddElement&&t.ddElement.ddResizable&&!t.ddElement.ddResizable.disabled)},a.prototype.on=function(t,e,r){return this._getDDElements(t).forEach(function(n){return n.on(e,function(o){r(o,Bt.DDManager.dragElement?Bt.DDManager.dragElement.el:o.target,Bt.DDManager.dragElement?Bt.DDManager.dragElement.helper:null)})}),this},a.prototype.off=function(t,e){return this._getDDElements(t).forEach(function(r){return r.off(e)}),this},a.prototype._getDDElements=function(t,e){e===void 0&&(e=!0);var r=Ni.Utils.getElements(t);if(!r.length)return[];var n=r.map(function(o){return o.ddElement||(e?Ui.DDElement.init(o):null)});return e||n.filter(function(o){return o}),n},a}();Mt.DDGridStack=Oi;(function(a){var t=A&&A.__assign||function(){return t=Object.assign||function(d){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(d[h]=i[h])}return d},t.apply(this,arguments)},e=A&&A.__createBinding||(Object.create?function(d,i,s,l){l===void 0&&(l=s);var h=Object.getOwnPropertyDescriptor(i,s);(!h||("get"in h?!i.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(d,l,h)}:function(d,i,s,l){l===void 0&&(l=s),d[l]=i[s]}),r=A&&A.__exportStar||function(d,i){for(var s in d)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,d,s)},n=A&&A.__spreadArray||function(d,i,s){if(s||arguments.length===2)for(var l=0,h=i.length,f;l<h;l++)(f||!(l in i))&&(f||(f=Array.prototype.slice.call(i,0,l)),f[l]=i[l]);return d.concat(f||Array.prototype.slice.call(i))};Object.defineProperty(a,"__esModule",{value:!0}),a.GridStack=void 0;/*!
 * GridStack 10.2.0
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2022 Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */var o=Ht,u=Y,c=_t,m=Mt,C=W,S=ht,R=new m.DDGridStack;r(_t,a),r(Y,a),r(Ht,a),r(Mt,a),a.GridStack=function(){function d(i,s){s===void 0&&(s={});var l=this,h,f,g,y;this.el=i,this.opts=s,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},i.gridstack=this,s=s||{},i.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),s.row&&(s.minRow=s.maxRow=s.row,delete s.row);var v=u.Utils.toNumber(i.getAttribute("gs-row"));s.column==="auto"&&delete s.column,s.alwaysShowResizeHandle!==void 0&&(s._alwaysShowResizeHandle=s.alwaysShowResizeHandle);var p=(h=s.columnOpts)===null||h===void 0?void 0:h.breakpoints,b=s;if(b.oneColumnModeDomSort&&(delete b.oneColumnModeDomSort,console.log("warning: Gridstack oneColumnModeDomSort no longer supported. Use GridStackOptions.columnOpts instead.")),b.oneColumnSize||b.disableOneColumnMode===!1){var _=b.oneColumnSize||768;delete b.oneColumnSize,delete b.disableOneColumnMode,s.columnOpts=s.columnOpts||{},p=s.columnOpts.breakpoints=s.columnOpts.breakpoints||[];var D=p.find(function(N){return N.c===1});D?D.w=_:(D={c:1,w:_},p.push(D,{c:12,w:_+1}))}var w=s.columnOpts;w&&(!w.columnWidth&&!(!((f=w.breakpoints)===null||f===void 0)&&f.length)?(delete s.columnOpts,p=void 0):w.columnMax=w.columnMax||12),(p==null?void 0:p.length)>1&&p.sort(function(N,V){return(V.w||0)-(N.w||0)});var E=t(t({},u.Utils.cloneDeep(c.gridDefaults)),{column:u.Utils.toNumber(i.getAttribute("gs-column"))||c.gridDefaults.column,minRow:v||u.Utils.toNumber(i.getAttribute("gs-min-row"))||c.gridDefaults.minRow,maxRow:v||u.Utils.toNumber(i.getAttribute("gs-max-row"))||c.gridDefaults.maxRow,staticGrid:u.Utils.toBool(i.getAttribute("gs-static"))||c.gridDefaults.staticGrid,draggable:{handle:(s.handleClass?"."+s.handleClass:s.handle?s.handle:"")||c.gridDefaults.draggable.handle},removableOptions:{accept:s.itemClass||c.gridDefaults.removableOptions.accept,decline:c.gridDefaults.removableOptions.decline}});i.getAttribute("gs-animate")&&(E.animate=u.Utils.toBool(i.getAttribute("gs-animate"))),s=u.Utils.defaults(s,E),this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+s.column),s.rtl==="auto"&&(s.rtl=i.style.direction==="rtl"),s.rtl&&this.el.classList.add("grid-stack-rtl");var x=(g=this.el.parentElement)===null||g===void 0?void 0:g.parentElement,z=x!=null&&x.classList.contains(c.gridDefaults.itemClass)?x.gridstackNode:void 0;z&&(z.subGrid=this,this.parentGridItem=z,this.el.classList.add("grid-stack-nested"),z.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=s.cellHeight==="auto",this._isAutoCellHeight||s.cellHeight==="initial"?this.cellHeight(void 0,!1):(typeof s.cellHeight=="number"&&s.cellHeightUnit&&s.cellHeightUnit!==c.gridDefaults.cellHeightUnit&&(s.cellHeight=s.cellHeight+s.cellHeightUnit,delete s.cellHeightUnit),this.cellHeight(s.cellHeight,!1)),s.alwaysShowResizeHandle==="mobile"&&(s.alwaysShowResizeHandle=C.isTouch),this._styleSheetClass="gs-id-"+o.GridStackEngine._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();var k=s.engineClass||d.engineClass||o.GridStackEngine;if(this.engine=new k({column:this.getColumn(),float:s.float,maxRow:s.maxRow,onChange:function(N){var V=0;l.engine.nodes.forEach(function(Z){V=Math.max(V,Z.y+Z.h)}),N.forEach(function(Z){var nt=Z.el;nt&&(Z._removeDOM?(nt&&nt.remove(),delete Z._removeDOM):l._writePosAttr(nt,Z))}),l._updateStyles(!1,V)}}),this._updateStyles(!1,0),s.auto&&(this.batchUpdate(),this.getGridItems().forEach(function(N){return l._prepareElement(N)}),this.batchUpdate(!1)),s.children){var B=s.children;delete s.children,B.length&&this.load(B)}this.setAnimation(),s.subGridDynamic&&!S.DDManager.pauseDrag&&(S.DDManager.pauseDrag=!0),((y=s.draggable)===null||y===void 0?void 0:y.pause)!==void 0&&(S.DDManager.pauseDrag=s.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}return d.init=function(i,s){if(i===void 0&&(i={}),s===void 0&&(s=".grid-stack"),typeof document>"u")return null;var l=d.getGridElement(s);return l?(l.gridstack||(l.gridstack=new d(l,u.Utils.cloneDeep(i))),l.gridstack):(console.error(typeof s=="string"?'GridStack.initAll() no grid was found with selector "'+s+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)},d.initAll=function(i,s){i===void 0&&(i={}),s===void 0&&(s=".grid-stack");var l=[];return typeof document>"u"||(d.getGridElements(s).forEach(function(h){h.gridstack||(h.gridstack=new d(h,u.Utils.cloneDeep(i))),l.push(h.gridstack)}),l.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+s+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),l},d.addGrid=function(i,s){if(s===void 0&&(s={}),!i)return null;var l=i;if(l.gridstack){var h=l.gridstack;return s&&(h.opts=t(t({},h.opts),s)),s.children!==void 0&&h.load(s.children),h}var f=i.classList.contains("grid-stack");if(!f||d.addRemoveCB)if(d.addRemoveCB)l=d.addRemoveCB(i,s,!0,!0);else{var g=document.implementation.createHTMLDocument("");g.body.innerHTML='<div class="grid-stack '.concat(s.class||"",'"></div>'),l=g.body.children[0],i.appendChild(l)}var y=d.init(s,l);return y},d.registerEngine=function(i){d.engineClass=i},Object.defineProperty(d.prototype,"placeholder",{get:function(){if(!this._placeholder){var i=document.createElement("div");i.className="placeholder-content",this.opts.placeholderText&&(i.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,c.gridDefaults.itemClass,this.opts.itemClass),this.placeholder.appendChild(i)}return this._placeholder},enumerable:!1,configurable:!0}),d.prototype.addWidget=function(i,s){function l(p){return p.el!==void 0||p.x!==void 0||p.y!==void 0||p.w!==void 0||p.h!==void 0||p.content!==void 0}var h,f;if(typeof i=="string"){var g=document.implementation.createHTMLDocument("");g.body.innerHTML=i,h=g.body.children[0]}else if(arguments.length===0||arguments.length===1&&l(i))if(f=s=i,f!=null&&f.el)h=f.el;else if(d.addRemoveCB)h=d.addRemoveCB(this.el,s,!0,!1);else{var y=(s==null?void 0:s.content)||"",g=document.implementation.createHTMLDocument("");g.body.innerHTML='<div class="grid-stack-item '.concat(this.opts.itemClass||"",'"><div class="grid-stack-item-content">').concat(y,"</div></div>"),h=g.body.children[0]}else h=i;if(h){if(f=h.gridstackNode,f&&h.parentElement===this.el&&this.engine.nodes.find(function(p){return p._id===f._id}))return h;var v=this._readAttr(h);return s=u.Utils.cloneDeep(s)||{},u.Utils.defaults(s,v),f=this.engine.prepareNode(s),this._writeAttr(h,s),this._insertNotAppend?this.el.prepend(h):this.el.appendChild(h),this.makeWidget(h,s),h}},d.prototype.makeSubGrid=function(i,s,l,h){var f,g,y;h===void 0&&(h=!0);var v=i.gridstackNode;if(v||(v=this.makeWidget(i).gridstackNode),!((f=v.subGrid)===null||f===void 0)&&f.el)return v.subGrid;for(var p,b=this;b&&!p;)p=(g=b.opts)===null||g===void 0?void 0:g.subGridOpts,b=(y=b.parentGridItem)===null||y===void 0?void 0:y.grid;s=u.Utils.cloneDeep(t(t(t({},p||{}),{children:void 0}),s||v.subGridOpts||{})),v.subGridOpts=s;var _;s.column==="auto"&&(_=!0,s.column=Math.max(v.w||1,(l==null?void 0:l.w)||1),delete s.columnOpts);var D=v.el.querySelector(".grid-stack-item-content"),w,E;if(h){if(this._removeDD(v.el),E=t(t({},v),{x:0,y:0}),u.Utils.removeInternalForSave(E),delete E.subGridOpts,v.content&&(E.content=v.content,delete v.content),d.addRemoveCB)w=d.addRemoveCB(this.el,E,!0,!1);else{var x=document.implementation.createHTMLDocument("");x.body.innerHTML='<div class="grid-stack-item"></div>',w=x.body.children[0],w.appendChild(D),x.body.innerHTML='<div class="grid-stack-item-content"></div>',D=x.body.children[0],v.el.appendChild(D)}this._prepareDragDropByNode(v)}if(l){var z=_?s.column:v.w,k=v.h+l.h,B=v.el.style;B.transition="none",this.update(v.el,{w:z,h:k}),setTimeout(function(){return B.transition=null})}var N=v.subGrid=d.addGrid(D,s);return l!=null&&l._moving&&(N._isTemp=!0),_&&(N._autoColumn=!0),h&&N.addWidget(w,E),l&&(l._moving?window.setTimeout(function(){return u.Utils.simulateMouseEvent(l._event,"mouseenter",N.el)},0):N.addWidget(v.el,v)),N},d.prototype.removeAsSubGrid=function(i){var s=this,l,h=(l=this.parentGridItem)===null||l===void 0?void 0:l.grid;h&&(h.batchUpdate(),h.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach(function(f){f.x+=s.parentGridItem.x,f.y+=s.parentGridItem.y,h.addWidget(f.el,f)}),h.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,i&&window.setTimeout(function(){return u.Utils.simulateMouseEvent(i._event,"mouseenter",h.el)},0))},d.prototype.save=function(i,s,l){i===void 0&&(i=!0),s===void 0&&(s=!1),l===void 0&&(l=d.saveCB);var h=this.engine.save(i,l);if(h.forEach(function(y){var v;if(i&&y.el&&!y.subGrid&&!l){var p=y.el.querySelector(".grid-stack-item-content");y.content=p?p.innerHTML:void 0,y.content||delete y.content}else if(!i&&!l&&delete y.content,!((v=y.subGrid)===null||v===void 0)&&v.el){var b=y.subGrid.save(i,s,l);y.subGridOpts=s?b:{children:b},delete y.subGrid}delete y.el}),s){var f=u.Utils.cloneDeep(this.opts);f.marginBottom===f.marginTop&&f.marginRight===f.marginLeft&&f.marginTop===f.marginRight&&(f.margin=f.marginTop,delete f.marginTop,delete f.marginRight,delete f.marginBottom,delete f.marginLeft),f.rtl===(this.el.style.direction==="rtl")&&(f.rtl="auto"),this._isAutoCellHeight&&(f.cellHeight="auto"),this._autoColumn&&(f.column="auto");var g=f._alwaysShowResizeHandle;return delete f._alwaysShowResizeHandle,g!==void 0?f.alwaysShowResizeHandle=g:delete f.alwaysShowResizeHandle,u.Utils.removeInternalAndSame(f,c.gridDefaults),f.children=h,f}return h},d.prototype.load=function(i,s){var l=this,h;s===void 0&&(s=d.addRemoveCB||!0),i=u.Utils.cloneDeep(i);var f=this.getColumn(),g=i.filter(function(w){return(w.x===void 0||w.y===void 0)&&!u.Utils.find(l.engine.nodes,w.id)});g.length&&g.length!==i.length?i=i.filter(function(w){return!u.Utils.find(g,w.id)}):g=[];var y=i.some(function(w){return w.x!==void 0||w.y!==void 0});y&&(i=u.Utils.sort(i,-1)),this._insertNotAppend=y,i.some(function(w){return(w.x||0)+(w.w||1)>f})&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(i,12,!0));var v=d.addRemoveCB;typeof s=="function"&&(d.addRemoveCB=s);var p=[];this.batchUpdate();var b=!this.engine.nodes.length;if(b&&this.setAnimation(!1),s){var _=n([],this.engine.nodes,!0);_.forEach(function(w){if(w.id){var E=u.Utils.find(i,w.id);E||(d.addRemoveCB&&d.addRemoveCB(l.el,w,!1,!1),p.push(w),l.removeWidget(w.el,!0,!1))}})}var D=[];return this.engine.nodes=this.engine.nodes.filter(function(w){return u.Utils.find(i,w.id)?(D.push(w),!1):!0}),i.forEach(function(w){var E,x=u.Utils.find(D,w.id);if(x){if(u.Utils.shouldSizeToContent(x)&&(w.h=x.h),l.engine.nodeBoundFix(w),(w.autoPosition||w.x===void 0||w.y===void 0)&&(w.w=w.w||x.w,w.h=w.h||x.h,l.engine.findEmptyPosition(w)),l.engine.nodes.push(x),u.Utils.samePos(x,w)&&l.moveNode(x,t(t({},w),{forceCollide:!0})),l.update(x.el,w),!((E=w.subGridOpts)===null||E===void 0)&&E.children){var z=x.el.querySelector(".grid-stack");z&&z.gridstack&&(z.gridstack.load(w.subGridOpts.children),l._insertNotAppend=!0)}}else s&&l.addWidget(w)}),s&&g.forEach(function(w){return l.addWidget(w)}),this.engine.removedNodes=p,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,v?d.addRemoveCB=v:delete d.addRemoveCB,b&&(!((h=this.opts)===null||h===void 0)&&h.animate)&&this.setAnimation(this.opts.animate,!0),this},d.prototype.batchUpdate=function(i){return i===void 0&&(i=!0),this.engine.batchUpdate(i),i||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this},d.prototype.getCellHeight=function(i){if(i===void 0&&(i=!1),this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!i||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;var s=this.el.querySelector("."+this.opts.itemClass);if(s){var l=u.Utils.toNumber(s.getAttribute("gs-h"))||1;return Math.round(s.offsetHeight/l)}var h=parseInt(this.el.getAttribute("gs-current-row"));return h?Math.round(this.el.getBoundingClientRect().height/h):this.opts.cellHeight},d.prototype.cellHeight=function(i,s){if(s===void 0&&(s=!0),s&&i!==void 0&&this._isAutoCellHeight!==(i==="auto")&&(this._isAutoCellHeight=i==="auto",this._updateResizeEvent()),(i==="initial"||i==="auto")&&(i=void 0),i===void 0){var l=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;i=this.cellWidth()+l}var h=u.Utils.parseHeight(i);return this.opts.cellHeightUnit===h.unit&&this.opts.cellHeight===h.h?this:(this.opts.cellHeightUnit=h.unit,this.opts.cellHeight=h.h,this.resizeToContentCheck(),s&&this._updateStyles(!0),this)},d.prototype.cellWidth=function(){return this._widthOrContainer()/this.getColumn()},d.prototype._widthOrContainer=function(i){var s;return i===void 0&&(i=!1),i&&(!((s=this.opts.columnOpts)===null||s===void 0)&&s.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth},d.prototype.checkDynamicColumn=function(){var i,s,l=this.opts.columnOpts;if(!l||!l.columnWidth&&!(!((i=l.breakpoints)===null||i===void 0)&&i.length))return!1;var h=this.getColumn(),f=h,g=this._widthOrContainer(!0);if(l.columnWidth)f=Math.min(Math.round(g/l.columnWidth)||1,l.columnMax);else{f=l.columnMax;for(var y=0;y<l.breakpoints.length&&g<=l.breakpoints[y].w;)f=l.breakpoints[y++].c||h}if(f!==h){var v=(s=l.breakpoints)===null||s===void 0?void 0:s.find(function(p){return p.c===f});return this.column(f,(v==null?void 0:v.layout)||l.layout),!0}return!1},d.prototype.compact=function(i,s){return i===void 0&&(i="compact"),s===void 0&&(s=!0),this.engine.compact(i,s),this._triggerChangeEvent(),this},d.prototype.column=function(i,s){if(s===void 0&&(s="moveScale"),!i||i<1||this.opts.column===i)return this;var l=this.getColumn();return this.opts.column=i,this.engine?(this.engine.column=i,this.el.classList.remove("gs-"+l),this.el.classList.add("gs-"+i),this.engine.columnChanged(l,i,s),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this},d.prototype.getColumn=function(){return this.opts.column},d.prototype.getGridItems=function(){var i=this;return Array.from(this.el.children).filter(function(s){return s.matches("."+i.opts.itemClass)&&!s.matches("."+i.opts.placeholderClass)})},d.prototype.destroy=function(i){if(i===void 0&&(i=!0),!!this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),i?this.el.parentNode.removeChild(this.el):(this.removeAll(i),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this},d.prototype.float=function(i){return this.opts.float!==i&&(this.opts.float=this.engine.float=i,this._triggerChangeEvent()),this},d.prototype.getFloat=function(){return this.engine.float},d.prototype.getCellFromPixel=function(i,s){s===void 0&&(s=!1);var l=this.el.getBoundingClientRect(),h;s?h={top:l.top+document.documentElement.scrollTop,left:l.left}:h={top:this.el.offsetTop,left:this.el.offsetLeft};var f=i.left-h.left,g=i.top-h.top,y=l.width/this.getColumn(),v=l.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(f/y),y:Math.floor(g/v)}},d.prototype.getRow=function(){return Math.max(this.engine.getRow(),this.opts.minRow)},d.prototype.isAreaEmpty=function(i,s,l,h){return this.engine.isAreaEmpty(i,s,l,h)},d.prototype.makeWidget=function(i,s){var l=d.getElement(i);this._prepareElement(l,!0,s);var h=l.gridstackNode;return this._updateContainerHeight(),h.subGridOpts&&this.makeSubGrid(l,h.subGridOpts,void 0,!1),this.opts.column===1&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,l},d.prototype.on=function(i,s){var l=this;if(i.indexOf(" ")!==-1){var h=i.split(" ");return h.forEach(function(g){return l.on(g,s)}),this}if(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable"){var f=i==="enable"||i==="disable";f?this._gsEventHandler[i]=function(g){return s(g)}:this._gsEventHandler[i]=function(g){return s(g,g.detail)},this.el.addEventListener(i,this._gsEventHandler[i])}else i==="drag"||i==="dragstart"||i==="dragstop"||i==="resizestart"||i==="resize"||i==="resizestop"||i==="dropped"||i==="resizecontent"?this._gsEventHandler[i]=s:console.error("GridStack.on("+i+") event not supported");return this},d.prototype.off=function(i){var s=this;if(i.indexOf(" ")!==-1){var l=i.split(" ");return l.forEach(function(h){return s.off(h)}),this}return(i==="change"||i==="added"||i==="removed"||i==="enable"||i==="disable")&&this._gsEventHandler[i]&&this.el.removeEventListener(i,this._gsEventHandler[i]),delete this._gsEventHandler[i],this},d.prototype.offAll=function(){var i=this;return Object.keys(this._gsEventHandler).forEach(function(s){return i.off(s)}),this},d.prototype.removeWidget=function(i,s,l){var h=this;return s===void 0&&(s=!0),l===void 0&&(l=!0),d.getElements(i).forEach(function(f){if(!(f.parentElement&&f.parentElement!==h.el)){var g=f.gridstackNode;g||(g=h.engine.nodes.find(function(y){return f===y.el})),g&&(s&&d.addRemoveCB&&d.addRemoveCB(h.el,g,!1,!1),delete f.gridstackNode,h._removeDD(f),h.engine.removeNode(g,s,l),s&&f.parentElement&&f.remove())}}),l&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this},d.prototype.removeAll=function(i,s){var l=this;return i===void 0&&(i=!0),s===void 0&&(s=!0),this.engine.nodes.forEach(function(h){i&&d.addRemoveCB&&d.addRemoveCB(l.el,h,!1,!1),delete h.el.gridstackNode,l.opts.staticGrid||l._removeDD(h.el)}),this.engine.removeAll(i,s),s&&this._triggerRemoveEvent(),this},d.prototype.setAnimation=function(i,s){var l=this;return i===void 0&&(i=this.opts.animate),s?setTimeout(function(){l.opts&&l.setAnimation(i)}):i?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this},d.prototype.hasAnimationCSS=function(){return this.el.classList.contains("grid-stack-animate")},d.prototype.setStatic=function(i,s,l){var h=this;return s===void 0&&(s=!0),l===void 0&&(l=!0),!!this.opts.staticGrid===i?this:(i?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(function(f){h._prepareDragDropByNode(f),f.subGrid&&l&&f.subGrid.setStatic(i,s,l)}),s&&this._setStaticClass(),this)},d.prototype.update=function(i,s){var l=this;if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");var h=arguments,f=1;return s={x:h[f++],y:h[f++],w:h[f++],h:h[f++]},this.update(i,s)}return d.getElements(i).forEach(function(g){var y,v=g==null?void 0:g.gridstackNode;if(v){var p=u.Utils.cloneDeep(s);l.engine.nodeBoundFix(p),delete p.autoPosition,delete p.id;var b=["x","y","w","h"],_;if(b.some(function(k){return p[k]!==void 0&&p[k]!==v[k]})&&(_={},b.forEach(function(k){_[k]=p[k]!==void 0?p[k]:v[k],delete p[k]})),!_&&(p.minW||p.minH||p.maxW||p.maxH)&&(_={}),p.content!==void 0){var D=g.querySelector(".grid-stack-item-content");D&&D.innerHTML!==p.content&&(D.innerHTML=p.content,!((y=v.subGrid)===null||y===void 0)&&y.el&&(D.appendChild(v.subGrid.el),v.subGrid.opts.styleInHead||v.subGrid._updateStyles(!0))),delete p.content}var w=!1,E=!1;for(var x in p)x[0]!=="_"&&v[x]!==p[x]&&(v[x]=p[x],w=!0,E=E||!l.opts.staticGrid&&(x==="noResize"||x==="noMove"||x==="locked"));if(u.Utils.sanitizeMinMax(v),_){var z=_.w!==void 0&&_.w!==v.w;l.moveNode(v,_),l.resizeToContentCheck(z,v)}(_||w)&&l._writeAttr(g,v),E&&l._prepareDragDropByNode(v)}}),this},d.prototype.moveNode=function(i,s){var l=i._updating;l||this.engine.cleanNodes().beginUpdate(i),this.engine.moveNode(i,s),this._updateContainerHeight(),l||(this._triggerChangeEvent(),this.engine.endUpdate())},d.prototype.resizeToContent=function(i){if(i&&(i.classList.remove("size-to-content-max"),!!i.clientHeight)){var s=i.gridstackNode;if(s){var l=s.grid;if(!(!l||i.parentElement!==l.el)){var h=l.getCellHeight(!0);if(h){var f=s.h?s.h*h:i.clientHeight,g;if(s.resizeToContentParent&&(g=i.querySelector(s.resizeToContentParent)),g||(g=i.querySelector(d.resizeToContentParent)),!!g){var y=i.clientHeight-g.clientHeight,v=s.h?s.h*h-y:g.clientHeight,p;if(s.subGrid)p=s.subGrid.getRow()*s.subGrid.getCellHeight(!0);else{var b=g.firstElementChild;if(!b){console.error("Error: GridStack.resizeToContent() widget id:".concat(s.id," '").concat(d.resizeToContentParent,"'.firstElementChild is null, make sure to have a div like container. Skipping sizing."));return}p=b.getBoundingClientRect().height||v}if(v!==p){f+=p-v;var _=Math.ceil(f/h),D=Number.isInteger(s.sizeToContent)?s.sizeToContent:0;D&&_>D&&(_=D,i.classList.add("size-to-content-max")),s.minH&&_<s.minH?_=s.minH:s.maxH&&_>s.maxH&&(_=s.maxH),_!==s.h&&(l._ignoreLayoutsNodeChange=!0,l.moveNode(s,{h:_}),delete l._ignoreLayoutsNodeChange)}}}}}}},d.prototype.resizeToContentCBCheck=function(i){d.resizeToContentCB?d.resizeToContentCB(i):this.resizeToContent(i)},d.prototype.rotate=function(i,s){var l=this;return d.getElements(i).forEach(function(h){var f=h.gridstackNode;if(!(!f||f.w===f.h)){var g={w:f.h,h:f.w,minH:f.minW,minW:f.minH,maxH:f.maxW,maxW:f.maxH};if(s){var y=s.left>0?Math.floor(s.left/l.cellWidth()):0,v=s.top>0?Math.floor(s.top/l.opts.cellHeight):0;g.x=f.x+y-(f.h-(v+1)),g.y=f.y+v-y}l.update(h,g)}}),this},d.prototype.margin=function(i){var s=typeof i=="string"&&i.split(" ").length>1;if(!s){var l=u.Utils.parseHeight(i);if(this.opts.marginUnit===l.unit&&this.opts.margin===l.h)return}return this.opts.margin=i,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this},d.prototype.getMargin=function(){return this.opts.margin},d.prototype.willItFit=function(i){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");var s=arguments,l=0,h={x:s[l++],y:s[l++],w:s[l++],h:s[l++],autoPosition:s[l++]};return this.willItFit(h)}return this.engine.willItFit(i)},d.prototype._triggerChangeEvent=function(){if(this.engine.batchMode)return this;var i=this.engine.getDirtyNodes(!0);return i&&i.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(i),this._triggerEvent("change",i)),this.engine.saveInitial(),this},d.prototype._triggerAddEvent=function(){var i;if(this.engine.batchMode)return this;if(!((i=this.engine.addedNodes)===null||i===void 0)&&i.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(function(l){delete l._dirty});var s=n([],this.engine.addedNodes,!0);this.engine.addedNodes=[],this._triggerEvent("added",s)}return this},d.prototype._triggerRemoveEvent=function(){var i;if(this.engine.batchMode)return this;if(!((i=this.engine.removedNodes)===null||i===void 0)&&i.length){var s=n([],this.engine.removedNodes,!0);this.engine.removedNodes=[],this._triggerEvent("removed",s)}return this},d.prototype._triggerEvent=function(i,s){var l=s?new CustomEvent(i,{bubbles:!1,detail:s}):new Event(i);return this.el.dispatchEvent(l),this},d.prototype._removeStylesheet=function(){if(this._styles){var i=this.opts.styleInHead?void 0:this.el.parentNode;u.Utils.removeStylesheet(this._styleSheetClass,i),delete this._styles}return this},d.prototype._updateStyles=function(i,s){if(i===void 0&&(i=!1),i&&this._removeStylesheet(),s===void 0&&(s=this.getRow()),this._updateContainerHeight(),this.opts.cellHeight===0)return this;var l=this.opts.cellHeight,h=this.opts.cellHeightUnit,f=".".concat(this._styleSheetClass," > .").concat(this.opts.itemClass);if(!this._styles){var g=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=u.Utils.createStylesheet(this._styleSheetClass,g,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,u.Utils.addCSSRule(this._styles,f,"height: ".concat(l).concat(h));var y=this.opts.marginTop+this.opts.marginUnit,v=this.opts.marginBottom+this.opts.marginUnit,p=this.opts.marginRight+this.opts.marginUnit,b=this.opts.marginLeft+this.opts.marginUnit,_="".concat(f," > .grid-stack-item-content"),D=".".concat(this._styleSheetClass," > .grid-stack-placeholder > .placeholder-content");u.Utils.addCSSRule(this._styles,_,"top: ".concat(y,"; right: ").concat(p,"; bottom: ").concat(v,"; left: ").concat(b,";")),u.Utils.addCSSRule(this._styles,D,"top: ".concat(y,"; right: ").concat(p,"; bottom: ").concat(v,"; left: ").concat(b,";")),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-n"),"top: ".concat(y,";")),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-s"),"bottom: ".concat(v)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-ne"),"right: ".concat(p)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-e"),"right: ".concat(p)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-se"),"right: ".concat(p,"; bottom: ").concat(v)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-nw"),"left: ".concat(b)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-w"),"left: ".concat(b)),u.Utils.addCSSRule(this._styles,"".concat(f," > .ui-resizable-sw"),"left: ".concat(b,"; bottom: ").concat(v))}if(s=s||this._styles._max,s>this._styles._max){for(var w=function(x){return l*x+h},E=this._styles._max+1;E<=s;E++)u.Utils.addCSSRule(this._styles,"".concat(f,'[gs-y="').concat(E,'"]'),"top: ".concat(w(E))),u.Utils.addCSSRule(this._styles,"".concat(f,'[gs-h="').concat(E+1,'"]'),"height: ".concat(w(E+1)));this._styles._max=s}return this},d.prototype._updateContainerHeight=function(){if(!this.engine||this.engine.batchMode)return this;var i=this.parentGridItem,s=this.getRow()+this._extraDragRow,l=this.opts.cellHeight,h=this.opts.cellHeightUnit;if(!l)return this;if(!i){var f=u.Utils.parseHeight(getComputedStyle(this.el).minHeight);if(f.h>0&&f.unit===h){var g=Math.floor(f.h/l);s<g&&(s=g)}}return this.el.setAttribute("gs-current-row",String(s)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),s&&(this.el.style[i?"minHeight":"height"]=s*l+h),i&&!i.grid.engine.batchMode&&u.Utils.shouldSizeToContent(i)&&i.grid.resizeToContentCBCheck(i.el),this},d.prototype._prepareElement=function(i,s,l){s===void 0&&(s=!1),l=l||this._readAttr(i),i.gridstackNode=l,l.el=i,l.grid=this,l=this.engine.addNode(l,s),this._writeAttr(i,l),i.classList.add(c.gridDefaults.itemClass,this.opts.itemClass);var h=u.Utils.shouldSizeToContent(l);return h?i.classList.add("size-to-content"):i.classList.remove("size-to-content"),h&&this.resizeToContentCheck(!1,l),this._prepareDragDropByNode(l),this},d.prototype._writePosAttr=function(i,s){return s.x!==void 0&&s.x!==null&&i.setAttribute("gs-x",String(s.x)),s.y!==void 0&&s.y!==null&&i.setAttribute("gs-y",String(s.y)),s.w>1?i.setAttribute("gs-w",String(s.w)):i.removeAttribute("gs-w"),s.h>1?i.setAttribute("gs-h",String(s.h)):i.removeAttribute("gs-h"),this},d.prototype._writeAttr=function(i,s){if(!s)return this;this._writePosAttr(i,s);var l={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(var h in l)s[h]?i.setAttribute(l[h],String(s[h])):i.removeAttribute(l[h]);return this},d.prototype._readAttr=function(i,s){s===void 0&&(s=!0);var l={};l.x=u.Utils.toNumber(i.getAttribute("gs-x")),l.y=u.Utils.toNumber(i.getAttribute("gs-y")),l.w=u.Utils.toNumber(i.getAttribute("gs-w")),l.h=u.Utils.toNumber(i.getAttribute("gs-h")),l.autoPosition=u.Utils.toBool(i.getAttribute("gs-auto-position")),l.noResize=u.Utils.toBool(i.getAttribute("gs-no-resize")),l.noMove=u.Utils.toBool(i.getAttribute("gs-no-move")),l.locked=u.Utils.toBool(i.getAttribute("gs-locked")),l.id=i.getAttribute("gs-id"),l.maxW=u.Utils.toNumber(i.getAttribute("gs-max-w")),l.minW=u.Utils.toNumber(i.getAttribute("gs-min-w")),l.maxH=u.Utils.toNumber(i.getAttribute("gs-max-h")),l.minH=u.Utils.toNumber(i.getAttribute("gs-min-h")),s&&(l.w===1&&i.removeAttribute("gs-w"),l.h===1&&i.removeAttribute("gs-h"),l.maxW&&i.removeAttribute("gs-max-w"),l.minW&&i.removeAttribute("gs-min-w"),l.maxH&&i.removeAttribute("gs-max-h"),l.minH&&i.removeAttribute("gs-min-h"));for(var h in l){if(!l.hasOwnProperty(h))return;!l[h]&&l[h]!==0&&delete l[h]}return l},d.prototype._setStaticClass=function(){var i,s,l=["grid-stack-static"];return this.opts.staticGrid?((i=this.el.classList).add.apply(i,l),this.el.setAttribute("gs-static","true")):((s=this.el.classList).remove.apply(s,l),this.el.removeAttribute("gs-static")),this},d.prototype.onResize=function(){var i;if(!((i=this.el)===null||i===void 0)&&i.clientWidth&&this.prevWidth!==this.el.clientWidth){this.prevWidth=this.el.clientWidth,this.batchUpdate();var s=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),s=!0):s=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(function(l){l.subGrid&&l.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(s),delete this._skipInitialResize,this.batchUpdate(!1),this}},d.prototype.resizeToContentCheck=function(i,s){var l=this;if(i===void 0&&(i=!1),s===void 0&&(s=void 0),!!this.engine){if(i&&this.hasAnimationCSS())return setTimeout(function(){return l.resizeToContentCheck(!1,s)},310);if(s)u.Utils.shouldSizeToContent(s)&&this.resizeToContentCBCheck(s.el);else if(this.engine.nodes.some(function(f){return u.Utils.shouldSizeToContent(f)})){var h=n([],this.engine.nodes,!0);this.batchUpdate(),h.forEach(function(f){u.Utils.shouldSizeToContent(f)&&l.resizeToContentCBCheck(f.el)}),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,s?[s]:this.engine.nodes)}},d.prototype._updateResizeEvent=function(i){var s=this;i===void 0&&(i=!1);var l=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(function(h){return h.sizeToContent}));return!i&&l&&!this.resizeObserver?(this._sizeThrottle=u.Utils.throttle(function(){return s.onResize()},this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(function(){return s._sizeThrottle()}),this.resizeObserver.observe(this.el),this._skipInitialResize=!0):(i||!l)&&this.resizeObserver&&(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle),this},d.getElement=function(i){return i===void 0&&(i=".grid-stack-item"),u.Utils.getElement(i)},d.getElements=function(i){return i===void 0&&(i=".grid-stack-item"),u.Utils.getElements(i)},d.getGridElement=function(i){return d.getElement(i)},d.getGridElements=function(i){return u.Utils.getElements(i)},d.prototype._initMargin=function(){var i,s=0,l=[];return typeof this.opts.margin=="string"&&(l=this.opts.margin.split(" ")),l.length===2?(this.opts.marginTop=this.opts.marginBottom=l[0],this.opts.marginLeft=this.opts.marginRight=l[1]):l.length===4?(this.opts.marginTop=l[0],this.opts.marginRight=l[1],this.opts.marginBottom=l[2],this.opts.marginLeft=l[3]):(i=u.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=i.unit,s=this.opts.margin=i.h),this.opts.marginTop===void 0?this.opts.marginTop=s:(i=u.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=i.h,delete this.opts.margin),this.opts.marginBottom===void 0?this.opts.marginBottom=s:(i=u.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=i.h,delete this.opts.margin),this.opts.marginRight===void 0?this.opts.marginRight=s:(i=u.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=i.h,delete this.opts.margin),this.opts.marginLeft===void 0?this.opts.marginLeft=s:(i=u.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=i.h,delete this.opts.margin),this.opts.marginUnit=i.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this},d.getDD=function(){return R},d.setupDragIn=function(i,s,l){l===void 0&&(l=document),(s==null?void 0:s.pause)!==void 0&&(S.DDManager.pauseDrag=s.pause),s=t(t({},c.dragInDefaultOptions),s||{});var h=typeof i=="string"?u.Utils.getElements(i,l):i;h.length&&(h==null||h.forEach(function(f){R.isDraggable(f)||R.dragIn(f,s)}))},d.prototype.movable=function(i,s){var l=this;return this.opts.staticGrid?this:(d.getElements(i).forEach(function(h){var f=h.gridstackNode;f&&(s?delete f.noMove:f.noMove=!0,l._prepareDragDropByNode(f))}),this)},d.prototype.resizable=function(i,s){var l=this;return this.opts.staticGrid?this:(d.getElements(i).forEach(function(h){var f=h.gridstackNode;f&&(s?delete f.noResize:f.noResize=!0,l._prepareDragDropByNode(f))}),this)},d.prototype.disable=function(i){if(i===void 0&&(i=!0),!this.opts.staticGrid)return this.enableMove(!1,i),this.enableResize(!1,i),this._triggerEvent("disable"),this},d.prototype.enable=function(i){if(i===void 0&&(i=!0),!this.opts.staticGrid)return this.enableMove(!0,i),this.enableResize(!0,i),this._triggerEvent("enable"),this},d.prototype.enableMove=function(i,s){var l=this;return s===void 0&&(s=!0),this.opts.staticGrid?this:(i?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(function(h){l._prepareDragDropByNode(h),h.subGrid&&s&&h.subGrid.enableMove(i,s)}),this)},d.prototype.enableResize=function(i,s){var l=this;return s===void 0&&(s=!0),this.opts.staticGrid?this:(i?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(function(h){l._prepareDragDropByNode(h),h.subGrid&&s&&h.subGrid.enableResize(i,s)}),this)},d.prototype._removeDD=function(i){return R.draggable(i,"destroy").resizable(i,"destroy"),i.gridstackNode&&delete i.gridstackNode._initDD,delete i.ddElement,this},d.prototype._setupAcceptWidget=function(){var i=this;if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return R.droppable(this.el,"destroy"),this;var s,l,h=function(f,g,y){var v,p,b=g.gridstackNode;if(b){if(y=y||g,!(!((p=b.grid)===null||p===void 0)&&p.el)){y.style.transform="scale(".concat(1/i.dragTransform.xScale,",").concat(1/i.dragTransform.yScale,")");var _=y.getBoundingClientRect();y.style.left=_.x+(i.dragTransform.xScale-1)*(f.clientX-_.x)/i.dragTransform.xScale+"px",y.style.top=_.y+(i.dragTransform.yScale-1)*(f.clientY-_.y)/i.dragTransform.yScale+"px",y.style.transformOrigin="0px 0px"}var D=i.el.getBoundingClientRect(),w=(v=y.getBoundingClientRect(),v.top),E=v.left;E-=D.left,w-=D.top;var x={position:{top:w*i.dragTransform.xScale,left:E*i.dragTransform.yScale}};if(b._temporaryRemoved){if(b.x=Math.max(0,Math.round(E/l)),b.y=Math.max(0,Math.round(w/s)),delete b.autoPosition,i.engine.nodeBoundFix(b),!i.engine.willItFit(b)){if(b.autoPosition=!0,!i.engine.willItFit(b)){R.off(g,"drag");return}b._willFitPos&&(u.Utils.copyPos(b,b._willFitPos),delete b._willFitPos)}i._onStartMoving(y,f,x,b,l,s)}else i._dragOrResize(y,f,x,b,l,s)}};return R.droppable(this.el,{accept:function(f){var g=f.gridstackNode||i._readAttr(f,!1);if((g==null?void 0:g.grid)===i)return!0;if(!i.opts.acceptWidgets)return!1;var y=!0;if(typeof i.opts.acceptWidgets=="function")y=i.opts.acceptWidgets(f);else{var v=i.opts.acceptWidgets===!0?".grid-stack-item":i.opts.acceptWidgets;y=f.matches(v)}if(y&&g&&i.opts.maxRow){var p={w:g.w,h:g.h,minW:g.minW,minH:g.minH};y=i.engine.willItFit(p)}return y}}).on(this.el,"dropover",function(f,g,y){var v=g.gridstackNode;if((v==null?void 0:v.grid)===i&&!v._temporaryRemoved)return!1;if(v!=null&&v.grid&&v.grid!==i&&!v._temporaryRemoved){var p=v.grid;p._leave(g,y)}l=i.cellWidth(),s=i.getCellHeight(!0),v||(v=i._readAttr(g,!1)),v.grid||(v._isExternal=!0,g.gridstackNode=v),y=y||g;var b=v.w||Math.round(y.offsetWidth/l)||1,_=v.h||Math.round(y.offsetHeight/s)||1;return v.grid&&v.grid!==i?(g._gridstackNodeOrig||(g._gridstackNodeOrig=v),g.gridstackNode=v=t(t({},v),{w:b,h:_,grid:i}),delete v.x,delete v.y,i.engine.cleanupNode(v).nodeBoundFix(v),v._initDD=v._isExternal=v._temporaryRemoved=!0):(v.w=b,v.h=_,v._temporaryRemoved=!0),d._itemRemoving(v.el,!1),R.on(g,"drag",h),h(f,g,y),!1}).on(this.el,"dropout",function(f,g,y){var v=g.gridstackNode;return v&&(!v.grid||v.grid===i)&&(i._leave(g,y),i._isTemp&&i.removeAsSubGrid(v)),!1}).on(this.el,"drop",function(f,g,y){var v,p,b,_=g.gridstackNode;if((_==null?void 0:_.grid)===i&&!_._isExternal)return!1;var D=!!i.placeholder.parentElement;i.placeholder.remove();var w=D&&i.opts.animate;w&&i.setAnimation(!1);var E=g._gridstackNodeOrig;if(delete g._gridstackNodeOrig,D&&(E!=null&&E.grid)&&E.grid!==i){var x=E.grid;x.engine.removeNodeFromLayoutCache(E),x.engine.removedNodes.push(E),x._triggerRemoveEvent()._triggerChangeEvent(),x.parentGridItem&&!x.engine.nodes.length&&x.opts.subGridDynamic&&x.removeAsSubGrid()}if(!_||(D&&(i.engine.cleanupNode(_),_.grid=i),(v=_.grid)===null||v===void 0||delete v._isTemp,R.off(g,"drag"),y!==g?(y.remove(),g.gridstackNode=E,D&&(g=g.cloneNode(!0))):(g.remove(),i._removeDD(g)),!D))return!1;g.gridstackNode=_,_.el=g;var z=(b=(p=_.subGrid)===null||p===void 0?void 0:p.el)===null||b===void 0?void 0:b.gridstack;return u.Utils.copyPos(_,i._readAttr(i.placeholder)),u.Utils.removePositioningStyles(g),i.el.appendChild(g),i._prepareElement(g,!0,_),z&&(z.parentGridItem=_,z.opts.styleInHead||z._updateStyles(!0)),i._updateContainerHeight(),i.engine.addedNodes.push(_),i._triggerAddEvent(),i._triggerChangeEvent(),i.engine.endUpdate(),i._gsEventHandler.dropped&&i._gsEventHandler.dropped(t(t({},f),{type:"dropped"}),E&&E.grid?E:void 0,_),w&&i.setAnimation(i.opts.animate,!0),!1}),this},d._itemRemoving=function(i,s){var l=i?i.gridstackNode:void 0;!(l!=null&&l.grid)||i.classList.contains(l.grid.opts.removableOptions.decline)||(s?l._isAboutToRemove=!0:delete l._isAboutToRemove,s?i.classList.add("grid-stack-item-removing"):i.classList.remove("grid-stack-item-removing"))},d.prototype._setupRemoveDrop=function(){if(typeof this.opts.removable!="string")return this;var i=document.querySelector(this.opts.removable);return i?(!this.opts.staticGrid&&!R.isDroppable(i)&&R.droppable(i,this.opts.removableOptions).on(i,"dropover",function(s,l){return d._itemRemoving(l,!0)}).on(i,"dropout",function(s,l){return d._itemRemoving(l,!1)}),this):this},d.prototype._prepareDragDropByNode=function(i){var s=this,l=i.el,h=i.noMove||this.opts.disableDrag,f=i.noResize||this.opts.disableResize;if(this.opts.staticGrid||h&&f)return i._initDD&&(this._removeDD(l),delete i._initDD),l.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!i._initDD){var g,y,v=function(_,D){s._gsEventHandler[_.type]&&s._gsEventHandler[_.type](_,_.target),g=s.cellWidth(),y=s.getCellHeight(!0),s._onStartMoving(l,_,D,i,g,y)},p=function(_,D){s._dragOrResize(l,_,D,i,g,y)},b=function(_){s.placeholder.remove(),delete i._moving,delete i._event,delete i._lastTried;var D=i.w!==i._orig.w,w=_.target;if(!(!w.gridstackNode||w.gridstackNode.grid!==s)){if(i.el=w,i._isAboutToRemove){var E=l.gridstackNode.grid;E._gsEventHandler[_.type]&&E._gsEventHandler[_.type](_,w),E.engine.nodes.push(i),E.removeWidget(l,!0,!0)}else u.Utils.removePositioningStyles(w),i._temporaryRemoved?(u.Utils.copyPos(i,i._orig),s._writePosAttr(w,i),s.engine.addNode(i)):s._writePosAttr(w,i),s._gsEventHandler[_.type]&&s._gsEventHandler[_.type](_,w);s._extraDragRow=0,s._updateContainerHeight(),s._triggerChangeEvent(),s.engine.endUpdate(),_.type==="resizestop"&&(Number.isInteger(i.sizeToContent)&&(i.sizeToContent=i.h),s.resizeToContentCheck(D,i))}};R.draggable(l,{start:v,stop:b,drag:p}).resizable(l,{start:v,stop:b,resize:p}),i._initDD=!0}return R.draggable(l,h?"disable":"enable").resizable(l,f?"disable":"enable"),this},d.prototype._onStartMoving=function(i,s,l,h,f,g){var y;if(this.engine.cleanNodes().beginUpdate(h),this._writePosAttr(this.placeholder,h),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=h,!((y=h.grid)===null||y===void 0)&&y.el)this.dragTransform=u.Utils.getValuesFromTransformedElement(i);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){var v=this.placeholder.closest(".grid-stack");this.dragTransform=u.Utils.getValuesFromTransformedElement(v)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};h.el=this.placeholder,h._lastUiPosition=l.position,h._prevYPix=l.position.top,h._moving=s.type==="dragstart",delete h._lastTried,s.type==="dropover"&&h._temporaryRemoved&&(this.engine.addNode(h),h._moving=!0),this.engine.cacheRects(f,g,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),s.type==="resizestart"&&(R.resizable(i,"option","minWidth",f*Math.min(h.minW||1,this.getColumn()-h.x)).resizable(i,"option","minHeight",g*Math.min(h.minH||1,(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-h.y)),h.maxW&&R.resizable(i,"option","maxWidth",f*h.maxW),h.maxH&&R.resizable(i,"option","maxHeight",g*h.maxH))},d.prototype._dragOrResize=function(i,s,l,h,f,g){var y=t({},h._orig),v,p=this.opts.marginLeft,b=this.opts.marginRight,_=this.opts.marginTop,D=this.opts.marginBottom,w=Math.round(g*.1),E=Math.round(f*.1);if(p=Math.min(p,E),b=Math.min(b,E),_=Math.min(_,w),D=Math.min(D,w),s.type==="drag"){if(h._temporaryRemoved)return;var x=l.position.top-h._prevYPix;h._prevYPix=l.position.top,this.opts.draggable.scroll!==!1&&u.Utils.updateScrollPosition(i,l.position,x);var z=l.position.left+(l.position.left>h._lastUiPosition.left?-b:p),k=l.position.top+(l.position.top>h._lastUiPosition.top?-D:_);y.x=Math.round(z/f),y.y=Math.round(k/g);var B=this._extraDragRow;if(this.engine.collide(h,y)){var N=this.getRow(),V=Math.max(0,y.y+h.h-N);this.opts.maxRow&&N+V>this.opts.maxRow&&(V=Math.max(0,this.opts.maxRow-N)),this._extraDragRow=V}else this._extraDragRow=0;if(this._extraDragRow!==B&&this._updateContainerHeight(),h.x===y.x&&h.y===y.y)return}else if(s.type==="resize"){if(y.x<0||(u.Utils.updateScrollResize(s,i,g),y.w=Math.round((l.size.width-p)/f),y.h=Math.round((l.size.height-_)/g),h.w===y.w&&h.h===y.h)||h._lastTried&&h._lastTried.w===y.w&&h._lastTried.h===y.h)return;var z=l.position.left+p,Z=l.position.top+_;y.x=Math.round(z/f),y.y=Math.round(Z/g),v=!0}h._event=s,h._lastTried=y;var nt={x:l.position.left+p,y:l.position.top+_,w:(l.size?l.size.width:h.w*f)-p-b,h:(l.size?l.size.height:h.h*g)-_-D};if(this.engine.moveNodeCheck(h,t(t({},y),{cellWidth:f,cellHeight:g,rect:nt,resizing:v}))){h._lastUiPosition=l.position,this.engine.cacheRects(f,g,_,b,D,p),delete h._skipDown,v&&h.subGrid&&h.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();var st=s.target;this._writePosAttr(st,h),this._gsEventHandler[s.type]&&this._gsEventHandler[s.type](s,st)}},d.prototype._leave=function(i,s){var l=i.gridstackNode;l&&(s=s||i,s.style.transform="scale(1)",R.off(i,"drag"),!l._temporaryRemoved&&(l._temporaryRemoved=!0,this.engine.removeNode(l),l.el=l._isExternal&&s?s:i,this.opts.removable===!0&&d._itemRemoving(i,!0),i._gridstackNodeOrig?(i.gridstackNode=i._gridstackNodeOrig,delete i._gridstackNodeOrig):l._isExternal&&(delete l.el,delete i.gridstackNode,this.engine.restoreInitial())))},d.prototype.commit=function(){return(0,u.obsolete)(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this},d.resizeToContentParent=".grid-stack-item-content",d.Utils=u.Utils,d.Engine=o.GridStackEngine,d.GDRev="10.2.0",d}()})(Wt);const Li={TextBox:{text:"text",type:"h1"},ImageBox:{url:"https://placedog.net/200/200"},CardBox:{title:"title",icon:"ic:coffee",body:"body",footer:"footer"}};function Ai(a){let t,e;return{c(){t=H("div"),e=H("div"),this.h()},l(r){t=M(r,"DIV",{class:!0});var n=F(t);e=M(n,"DIV",{id:!0,class:!0}),F(e).forEach(L),n.forEach(L),this.h()},h(){U(e,"id","builder"),U(e,"class","grid-stack-item-content"),U(t,"class","overflow-auto h-full")},m(r,n){rt(r,t,n),T(t,e),a[1](e)},p:it,i:it,o:it,d(r){r&&L(t),a[1](null)}}}function Pi(a,t,e){let r,n;qt(a,jt,p=>e(4,r=p)),qt(a,ot,p=>e(5,n=p));let o,u;const c={acceptWidgets:!0,removable:"#trash",cellHeight:"2rem",cellHeightThrottle:500,animate:!1,subGridDynamic:!0,sizeToContent:!0};let m={};const C={acceptWidgets:!0,removable:"#trash",minRow:9,float:!0,cellHeight:"2rem",cellHeightThrottle:500,animate:!1,subGridOpts:c,subGridDynamic:!0,sizeToContent:!0},S=p=>{var z,k;const b=(z=p.grid)==null?void 0:z.engine.nodes.filter(B=>B.y===p.y);if(!b)return;const _=(k=p.grid)==null?void 0:k.getColumn(),D=Array(_).fill(!1);b.forEach(B=>{for(let N=B.x;N<B.x+B.w;N++)D[N]=!0});let w=p.x;for(;w>0&&!D[w-1];)w--;let E=p.x+p.w;for(;E<_&&!D[E];)E++;return{newWidth:E-w,leftLimit:w,totalColumns:_,occupied:D}},R=p=>{var _;const b=S(p);b&&((_=p.grid)==null||_.update(p.el,{w:b.newWidth,x:b.leftLimit,y:p.y}))},d=p=>{var _,D;const b=S(p);if(b)if(b.newWidth===p.w){const E=p.x,x=p.x+p.w,z=Math.round((E+x)/2)-2;console.log(z),(_=p.grid)==null||_.update(p.el,{w:2,x:z,y:p.y})}else(D=p.grid)==null||D.update(p.el,{w:b.newWidth,x:b.leftLimit,y:p.y})};function i(p){var w;const b={},_={},D=((w=p.subGridOpts)==null?void 0:w.children)||p.children||[];return D&&D.forEach(E=>{var z;const x=E.y||0;if(_[x]||(_[x]=[]),(z=E.subGridOpts)!=null&&z.children){const k=i(E.subGridOpts);_[x].push({...k,width:`w-${E.w||1}/12`})}else if(E.content){const k=n[E.id];k.width=`w-${E.w||1}/12`,_[x].push(k)}else console.warn("no content?",E)}),Object.keys(_).length!==0&&(b.rows=Object.keys(_).map(E=>({cols:_[E]}))),b}const s=p=>{var D,w,E;if(p.id||(p.id=Date.now().toString()),!((D=p.el)!=null&&D.innerText))return;const b={id:p.id,component:(w=p.el)==null?void 0:w.innerText,props:JSON.parse(JSON.stringify(Li[(E=p.el)==null?void 0:E.innerText])),posX:"middle",posY:"middle"},_=n[p.id];return _||(ot.update(x=>(x[p.id]=b,{...x})),b)},l=p=>{var w,E,x;let _=p.getGridItems().sort((z,k)=>z.gridstackNode.y-k.gridstackNode.y),D=((E=(w=_[0])==null?void 0:w.gridstackNode)==null?void 0:E.y)||0;for(let z=0;z<_.length;z++){let k=_[z],B=k.gridstackNode.y;if(z>0){let N=_[z-1],V=N.gridstackNode.y+N.gridstackNode.h;B>V&&(D+=B-V)}p.update(k,{y:B-D}),(x=k.gridstackNode)!=null&&x.subGrid&&l(k.gridstackNode.subGrid)}},h=p=>{p&&(l(p),p.getGridItems().forEach(b=>{var _;R(b.gridstackNode),h((_=b.gridstackNode)==null?void 0:_.subGrid)}))},f=p=>{if(!p)return;h(p);const b=p.save(!0,!0);console.log("save",b),m=i(b),Me.set(m),jt.set(b),console.log("customlayout",m)},g=p=>{var b,_;(b=p.el)==null||b.addEventListener("dblclick",()=>{d(p)}),(_=p.el)==null||_.addEventListener("click",()=>{Ft.set(p.id)})},y=p=>{if(!p)return;p.getGridItems().forEach(_=>{var D,w;(D=_.gridstackNode)!=null&&D.subGrid&&(g(_.gridstackNode),y((w=_.gridstackNode)==null?void 0:w.subGrid))})};Ge(()=>{const p=sessionStorage.getItem("gridStore"),b=sessionStorage.getItem("valueStore");p&&jt.set(JSON.parse(p)),jt.subscribe(_=>{_&&sessionStorage.setItem("gridStore",JSON.stringify(_))}),b&&ot.set(JSON.parse(b)),ot.subscribe(_=>{_&&sessionStorage.setItem("valueStore",JSON.stringify(_))}),Wt.GridStack.setupDragIn(".sidebar .grid-stack-item",{helper:"clone"}),r?(u=Wt.GridStack.init(r,o),y(u)):u=Wt.GridStack.init(C,o),u.on("dropped",function(_,D,w){s(w),g(w),Ft.set(w.id)}),u.on("removed",function(){Ft.set("")})}),Ne.subscribe(()=>f(u));function v(p){ze[p?"unshift":"push"](()=>{o=p,e(0,o)})}return[o,v]}class Gi extends Nt{constructor(t){super(),Ut(this,t,Pi,Ai,Ot,{})}}function me(a,t,e){const r=a.slice();return r[9]=t[e],r}function _e(a){let t,e,r="Props",n,o,u,c="Layout",m,C,S,R="posX",d,i,s,l="left",h,f="middle",g,y="right",v,p,b,_,D="posY",w,E,x,z="top",k,B="middle",N,V="bottom",Z,nt,st,he="Classes",te,dt,bt,de="layoutClass",ee,lt,Rt,ie,ft,wt,fe="wrapperClass",re,ut,zt,ne,ce,Et=$t(a[2]),$=[];for(let G=0;G<Et.length;G+=1)$[G]=ye(me(a,Et,G));return{c(){t=H("div"),e=H("h6"),e.textContent=r,n=J();for(let G=0;G<$.length;G+=1)$[G].c();o=J(),u=H("h6"),u.textContent=c,m=J(),C=H("label"),S=H("span"),S.textContent=R,d=J(),i=H("select"),s=H("option"),s.textContent=l,h=H("option"),h.textContent=f,g=H("option"),g.textContent=y,p=J(),b=H("label"),_=H("span"),_.textContent=D,w=J(),E=H("select"),x=H("option"),x.textContent=z,k=H("option"),k.textContent=B,N=H("option"),N.textContent=V,nt=J(),st=H("h6"),st.textContent=he,te=J(),dt=H("label"),bt=H("span"),bt.textContent=de,ee=J(),lt=H("input"),ie=J(),ft=H("label"),wt=H("span"),wt.textContent=fe,re=J(),ut=H("input"),this.h()},l(G){t=M(G,"DIV",{class:!0});var P=F(t);e=M(P,"H6",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-2gqzbt"&&(e.textContent=r),n=Q(P);for(let se=0;se<$.length;se+=1)$[se].l(P);o=Q(P),u=M(P,"H6",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-12d8e9l"&&(u.textContent=c),m=Q(P),C=M(P,"LABEL",{class:!0});var I=F(C);S=M(I,"SPAN",{"data-svelte-h":!0}),X(S)!=="svelte-197tyuk"&&(S.textContent=R),d=Q(I),i=M(I,"SELECT",{class:!0});var pt=F(i);s=M(pt,"OPTION",{"data-svelte-h":!0}),X(s)!=="svelte-dm3ioe"&&(s.textContent=l),h=M(pt,"OPTION",{"data-svelte-h":!0}),X(h)!=="svelte-13ynb9e"&&(h.textContent=f),g=M(pt,"OPTION",{"data-svelte-h":!0}),X(g)!=="svelte-gdc71y"&&(g.textContent=y),pt.forEach(L),I.forEach(L),p=Q(P),b=M(P,"LABEL",{class:!0});var Lt=F(b);_=M(Lt,"SPAN",{"data-svelte-h":!0}),X(_)!=="svelte-1b5i2qv"&&(_.textContent=D),w=Q(Lt),E=M(Lt,"SELECT",{class:!0});var At=F(E);x=M(At,"OPTION",{"data-svelte-h":!0}),X(x)!=="svelte-1urtez0"&&(x.textContent=z),k=M(At,"OPTION",{"data-svelte-h":!0}),X(k)!=="svelte-13ynb9e"&&(k.textContent=B),N=M(At,"OPTION",{"data-svelte-h":!0}),X(N)!=="svelte-11kbr9q"&&(N.textContent=V),At.forEach(L),Lt.forEach(L),nt=Q(P),st=M(P,"H6",{class:!0,"data-svelte-h":!0}),X(st)!=="svelte-13696f"&&(st.textContent=he),te=Q(P),dt=M(P,"LABEL",{class:!0});var Pt=F(dt);bt=M(Pt,"SPAN",{"data-svelte-h":!0}),X(bt)!=="svelte-wxfq74"&&(bt.textContent=de),ee=Q(Pt),lt=M(Pt,"INPUT",{class:!0,type:!0}),Pt.forEach(L),ie=Q(P),ft=M(P,"LABEL",{class:!0});var Gt=F(ft);wt=M(Gt,"SPAN",{"data-svelte-h":!0}),X(wt)!=="svelte-1g444uz"&&(wt.textContent=fe),re=Q(Gt),ut=M(Gt,"INPUT",{class:!0,type:!0}),Gt.forEach(L),P.forEach(L),this.h()},h(){U(e,"class","h6"),U(u,"class","h6 mt-4"),s.__value="left",Dt(s,s.__value),h.__value="middle",Dt(h,h.__value),g.__value="right",Dt(g,g.__value),U(i,"class","select"),U(C,"class","label"),x.__value="top",Dt(x,x.__value),k.__value="middle",Dt(k,k.__value),N.__value="bottom",Dt(N,N.__value),U(E,"class","select"),U(b,"class","label"),U(st,"class","h6 mt-4"),U(lt,"class","input"),U(lt,"type","text"),lt.value=Rt=a[1].layoutClass||"",U(dt,"class","label"),U(ut,"class","input"),U(ut,"type","text"),ut.value=zt=a[1].wrapperClass||"",U(ft,"class","label"),U(t,"class","form-group")},m(G,P){rt(G,t,P),T(t,e),T(t,n);for(let I=0;I<$.length;I+=1)$[I]&&$[I].m(t,null);T(t,o),T(t,u),T(t,m),T(t,C),T(C,S),T(C,d),T(C,i),T(i,s),T(i,h),T(i,g),It(i,a[1].posX||""),T(t,p),T(t,b),T(b,_),T(b,w),T(b,E),T(E,x),T(E,k),T(E,N),It(E,a[1].posY||""),T(t,nt),T(t,st),T(t,te),T(t,dt),T(dt,bt),T(dt,ee),T(dt,lt),T(t,ie),T(t,ft),T(ft,wt),T(ft,re),T(ft,ut),ne||(ce=[ct(i,"change",a[4]),ct(E,"change",a[5]),ct(lt,"change",a[6]),ct(ut,"change",a[7])],ne=!0)},p(G,P){if(P&7){Et=$t(G[2]);let I;for(I=0;I<Et.length;I+=1){const pt=me(G,Et,I);$[I]?$[I].p(pt,P):($[I]=ye(pt),$[I].c(),$[I].m(t,o))}for(;I<$.length;I+=1)$[I].d(1);$.length=Et.length}P&2&&v!==(v=G[1].posX||"")&&It(i,G[1].posX||""),P&2&&Z!==(Z=G[1].posY||"")&&It(E,G[1].posY||""),P&2&&Rt!==(Rt=G[1].layoutClass||"")&&lt.value!==Rt&&(lt.value=Rt),P&2&&zt!==(zt=G[1].wrapperClass||"")&&ut.value!==zt&&(ut.value=zt)},d(G){G&&L(t),Re($,G),ne=!1,Ie(ce)}}}function ye(a){let t,e,r=a[9]+"",n,o,u,c,m,C;function S(...R){return a[3](a[9],...R)}return{c(){t=H("label"),e=H("span"),n=Be(r),o=J(),u=H("input"),this.h()},l(R){t=M(R,"LABEL",{class:!0});var d=F(t);e=M(d,"SPAN",{});var i=F(e);n=je(i,r),i.forEach(L),o=Q(d),u=M(d,"INPUT",{class:!0,type:!0,placeholder:!0}),d.forEach(L),this.h()},h(){U(u,"class","input"),U(u,"type","text"),U(u,"placeholder","Input"),u.value=c=a[1].props[a[9]],U(t,"class","label")},m(R,d){rt(R,t,d),T(t,e),T(e,n),T(t,o),T(t,u),m||(C=ct(u,"change",S),m=!0)},p(R,d){a=R,d&4&&r!==(r=a[9]+"")&&We(n,r),d&6&&c!==(c=a[1].props[a[9]])&&u.value!==c&&(u.value=c)},d(R){R&&L(t),m=!1,C()}}}function Ii(a){let t,e=a[2].length>0&&_e(a);return{c(){t=H("div"),e&&e.c(),this.h()},l(r){t=M(r,"DIV",{class:!0});var n=F(t);e&&e.l(n),n.forEach(L),this.h()},h(){U(t,"class","overflow-auto h-full")},m(r,n){rt(r,t,n),e&&e.m(t,null)},p(r,[n]){r[2].length>0?e?e.p(r,n):(e=_e(r),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:it,o:it,d(r){r&&L(t),e&&e.d()}}}function Bi(a,t,e){let r;qt(a,ot,d=>e(8,r=d));let n,o,u=[];return Ft.subscribe(d=>{e(0,n=d),r[d]?(e(1,o=r[d]),e(2,u=Object.keys(o.props))):(e(1,o={}),e(2,u=[]))}),[n,o,u,(d,i)=>{ot.update(s=>(e(1,o.props[d]=i.target.value,o),s[n].props[d]=i.target.value,{...s}))},d=>{ot.update(i=>(e(1,o.posX=d.target.value,o),i[n].posX=d.target.value,{...i}))},d=>{ot.update(i=>(e(1,o.posY=d.target.value,o),i[n].posY=d.target.value,{...i}))},d=>{ot.update(i=>(e(1,o.layoutClass=d.target.value,o),i[n].layoutClass=d.target.value,{...i}))},d=>{ot.update(i=>(e(1,o.wrapperClass=d.target.value,o),i[n].wrapperClass=d.target.value,{...i}))}]}class ji extends Nt{constructor(t){super(),Ut(this,t,Bi,Ii,Ot,{})}}const Ji={TextBox:Le,ImageBox:Ae,CardBox:xe,DNDList:Ke,RemoveBox:Ze,ActionButton:si,DNDBuilder:Gi,Inspector:ji},Ft=yt(),ot=yt({}),Me=yt({}),jt=yt(),Ne=yt();export{Ji as a,Xi as b,Me as c,$e as d,Ki as e,Fe as g,Vi as i};
